<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>快速编译OpenCore</title>
      <link href="/2020/02/26/compile/index/"/>
      <url>/2020/02/26/compile/index/</url>
      
        <content type="html"><![CDATA[<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>由于目前OpenCore处于快速升级、迭代阶段，几乎每一天都有更新，喜欢追新的朋友，自己下载编译，可以体验最新的OpenCore，当然也是有风险的，迭代阶段或多或少存在BUG，在这里我友情提醒。</p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作<a id="more"></a></h2><h3 id="番茄："><a href="#番茄：" class="headerlink" title="番茄："></a>番茄：</h3><p>由于编译过程中，需要从自动raw.github.com下载nasm、nasm-mac64.zip、mtoc-mac64.zip等编译打包工具，而由于被强，需要番茄，可以用hosts解决，<a href="https://shuiyunxc.gitee.io/2020/02/26/compile/index/hosts.zip" target="_blank" rel="noopener">点这里下载hosts</a>，解压使用，至于hosts怎么用请自行搜索。</p><h3 id="安装xcode"><a href="#安装xcode" class="headerlink" title="安装xcode"></a>安装xcode</h3><p>打开终端，输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xcode-select --install</span><br></pre></td></tr></table></figure><p>安装完毕。</p><h3 id="下载OpenCore源码包："><a href="#下载OpenCore源码包：" class="headerlink" title="下载OpenCore源码包："></a>下载OpenCore源码包：</h3><p>我已经将OpenCore源码包以及要用到的所有工具源码包，全部同步到国内的Gitee我的仓库中，下载速度是github无法比拟的，打开终端，输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;Users&#x2F;XXXX(你的用户名)&#x2F;Desktop&#x2F;   #回车</span><br><span class="line">git clone https:&#x2F;&#x2F;gitee.com&#x2F;shuiyunxc&#x2F;OpenCorePkg.git   #回车</span><br></pre></td></tr></table></figure><h3 id="编译OpenCore"><a href="#编译OpenCore" class="headerlink" title="编译OpenCore"></a>编译OpenCore</h3><p><a href="https://shuiyunxc.gitee.io/2020/02/26/compile/index/macbuild.tool.zip" target="_blank" rel="noopener">下载我改过代码的macbuild.tool</a>文件，备份OpenCorePkg中的macbuild.tool，用下载的macbuild.tool解压、替换。继续在终端输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd OpenCorePkg   #回车</span><br><span class="line">.&#x2F;macbuild.tool  #回车</span><br></pre></td></tr></table></figure><p>开始编译，中间由于需要安装工具，无脑输入“y”，继续，直到编译完成。</p><h3 id="获取OpenCore-0-5-x-RELEASE-zip"><a href="#获取OpenCore-0-5-x-RELEASE-zip" class="headerlink" title="获取OpenCore-0.5.x-RELEASE.zip"></a>获取OpenCore-0.5.x-RELEASE.zip</h3><p>打开OpenCorePkg/Binaries，里面有DEBUG、RELEASE分身，点击进入，里面就可以看到OpenCore-0.5.x-DEBUG.zip/OpenCore-0.5.x-RELEASE.zip，一般用RELEASE版就好。将OpenCore-0.5.x-RELEASE.zip拷贝到其他位置，解压，里面有：</p><ul><li>Docs文件夹：里面包含更新日志（Changelog.md）、说明文件（Configuration.pdf）、变化说明（Differences.pdf）、2个config.plist模版(Sample.plist、SampleFull.plist)、以及SSDT模版文件夹（AcpiSamples）。</li><li>EFI文件夹：为将来要用的EFI。如何使用请参阅<a href="https://shuiyunxc.gitee.io/2020/02/21/instructions/index/" target="_blank" rel="noopener">OpenCore配置文字说明第二版（基于2月19日编译版）</a></li><li>Utilities文件夹：包含用于传统BIOS（MBR）启动的文件（BootInstall），包含RsaTool的CreateVault文件夹，用于创建nvram的文件夹（LogoutHook）。</li></ul><img src="https://img.shields.io/badge/更新日期-2020年02月26日-scarlet?style=flat-square" align='center'>]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCore配置文字说明第二版（基于03月02日官方正式版）</title>
      <link href="/2020/02/21/instructions/index/"/>
      <url>/2020/02/21/instructions/index/</url>
      
        <content type="html"><![CDATA[<h1 id="OpenCore配置视频文字说明第二版-基于OpenCore-0-5-6-03-02官方正式版"><a href="#OpenCore配置视频文字说明第二版-基于OpenCore-0-5-6-03-02官方正式版" class="headerlink" title="OpenCore配置视频文字说明第二版-基于OpenCore-0.5.6-03-02官方正式版"></a>OpenCore配置视频文字说明第二版-基于OpenCore-0.5.6-03-02官方正式版</h1><h3 id="0-5-6-03-02官方正式版："><a href="#0-5-6-03-02官方正式版：" class="headerlink" title="0.5.6-03-02官方正式版："></a>0.5.6-03-02官方正式版：</h3><p>添加开机音频的相关设置，去掉NVMe and XHCI 驱动。</p><h3 id="0-5-6-02-25更新项目："><a href="#0-5-6-02-25更新项目：" class="headerlink" title="0.5.6-02-25更新项目："></a>0.5.6-02-25更新项目：</h3><p>Misc-Boot-PickerAudioAssist,增加PickerAudioAssist选项，用于选项中的音频选择。<a id="more"></a></p><h3 id="0-5-6-02-24更新项目："><a href="#0-5-6-02-24更新项目：" class="headerlink" title="0.5.6-02-24更新项目："></a>0.5.6-02-24更新项目：</h3><ul><li>添加开机提示音.</li><li>在boot.efi 中增加音频支持,针对10.13以上的版本。</li></ul><h3 id="0-5-6-02-23更新项目："><a href="#0-5-6-02-23更新项目：" class="headerlink" title="0.5.6-02-23更新项目："></a>0.5.6-02-23更新项目：</h3><ul><li>改进了LapicKernelPanic与新macOS版本的兼容性（多用于惠普）。</li><li>修正了以#开头的驱动程序没有被跳过的问题。</li></ul><h3 id="一、-OC配置的基本条件与工具软件"><a href="#一、-OC配置的基本条件与工具软件" class="headerlink" title="一、    OC配置的基本条件与工具软件"></a>一、    OC配置的基本条件与工具软件</h3><h4 id="1-1、-Clover能正确引导，系统各种功能基本正常（关机-重启正常等）。"><a href="#1-1、-Clover能正确引导，系统各种功能基本正常（关机-重启正常等）。" class="headerlink" title="1.1、    Clover能正确引导，系统各种功能基本正常（关机/重启正常等）。"></a>1.1、    Clover能正确引导，系统各种功能基本正常（关机/重启正常等）。</h4><h4 id="1-2、-已完成USB定制，且定制正确。"><a href="#1-2、-已完成USB定制，且定制正确。" class="headerlink" title="1.2、    已完成USB定制，且定制正确。"></a>1.2、    已完成USB定制，且定制正确。</h4><h4 id="1-3、-工具软件："><a href="#1-3、-工具软件：" class="headerlink" title="1.3、    工具软件："></a>1.3、    工具软件：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a.Clover Configurator（Clover配置工具），</span><br><span class="line">b. OpenCore Configurator（OC配置工具1.15.0.1版）老版本需升级，</span><br><span class="line">c. Hackintool（综合工具），</span><br><span class="line">d. PlistEdit Pro（Plist文件工具），</span><br><span class="line">e. IORegistryExplorer（路径工具），</span><br><span class="line">f. BetterZip（解压软件）。</span><br></pre></td></tr></table></figure><h4 id="1-4、工具软件下载："><a href="#1-4、工具软件下载：" class="headerlink" title="1.4、工具软件下载："></a>1.4、工具软件下载：</h4><pre><code>https://pan.baidu.com/s/1Pz7z-KDsaohf7vIzGqo7Bg  密码:ybun </code></pre><h4 id="1-5、基本流程："><a href="#1-5、基本流程：" class="headerlink" title="1.5、基本流程："></a>1.5、基本流程：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">st&#x3D;&gt;start: 准备配置</span><br><span class="line">op&#x3D;&gt;operation: 检查Clover-EFI</span><br><span class="line">op0&#x3D;&gt;operation: 调整Clover-EFI</span><br><span class="line">cond&#x3D;&gt;condition: Clover-EFI</span><br><span class="line">是否正常使</span><br><span class="line">用？</span><br><span class="line">sub&#x3D;&gt;subroutine: 去调试Clover</span><br><span class="line">op1&#x3D;&gt;operation: 桌面建立OC-EFI</span><br><span class="line">cond1&#x3D;&gt;condition: 是否USB定制？</span><br><span class="line">sub1&#x3D;&gt;subroutine: 去定制</span><br><span class="line">op2&#x3D;&gt;operation: Clover-EFI放到桌面</span><br><span class="line">op3&#x3D;&gt;operation: 开始配置OC-EFI</span><br><span class="line">op4&#x3D;&gt;operation: 调整OC-EFI</span><br><span class="line">cond2&#x3D;&gt;condition: OC-EFI是否正常？</span><br><span class="line">sub2&#x3D;&gt;subroutine: 去调试OC</span><br><span class="line">io&#x3D;&gt;inputoutput: 收尾整理</span><br><span class="line">e&#x3D;&gt;end: 配置完成</span><br><span class="line">st-&gt;op-&gt;op0-&gt;cond</span><br><span class="line">cond(no,left)-&gt;sub(left)-&gt;op0</span><br><span class="line">cond(yes)-&gt;cond1</span><br><span class="line">cond1(no)-&gt;sub1-&gt;op2</span><br><span class="line">cond1(yes)-&gt;op2-&gt;op3-&gt;op4-&gt;cond2</span><br><span class="line">cond2(no)-&gt;sub2(right)-&gt;op4</span><br><span class="line">cond2(yes)-&gt;io-&gt;e</span><br></pre></td></tr></table></figure><h4 id="1-6、OpenCore基本架构"><a href="#1-6、OpenCore基本架构" class="headerlink" title="1.6、OpenCore基本架构"></a>1.6、OpenCore基本架构</h4><img src="/2020/02/21/instructions/index/20FA323E.png" alt="20FA323E" style="zoom:50%;" /><h3 id="二、-配置准备："><a href="#二、-配置准备：" class="headerlink" title="二、    配置准备："></a>二、    配置准备：</h3><h4 id="2-1、-Clover-EFI包"><a href="#2-1、-Clover-EFI包" class="headerlink" title="2.1、    Clover-EFI包"></a>2.1、    Clover-EFI包</h4><p>将自己正常使用的Clover的EFI拷贝到桌面，并改名为Clover-EFI，便于识别。</p><h4 id="2-2、OC-EFI包"><a href="#2-2、OC-EFI包" class="headerlink" title="2.2、OC-EFI包"></a>2.2、OC-EFI包</h4><p><a href="https://gitee.com/shuiyunxc/OpenCore/releases" target="_blank" rel="noopener">下载0.5.6（02-23版）-OC包</a></p><p>放到桌面。里面包含Docs与Utilities后面将会用到。并改名为OC-EFI，便于识别。</p><h4 id="2-3、ACPI文件转移"><a href="#2-3、ACPI文件转移" class="headerlink" title="2.3、ACPI文件转移"></a>2.3、ACPI文件转移</h4><p>将<code>Clover-EFI</code>- <code>CLOVER</code> -<code>ACPI</code>-<code>patched</code>里面你用的DSDT/SSDT全部拷贝到<code>OC-EFI</code>-<code>OC</code>-<code>ACPI</code>里面。</p><h4 id="2-4、-efi文件转移"><a href="#2-4、-efi文件转移" class="headerlink" title="2.4、.efi文件转移"></a>2.4、.efi文件转移</h4><p>将<code>Clover-EFI</code>-<code>CLOVER</code>- <code>drivers</code>- <code>UEFI</code>里面用的所有.efi文件全部拷贝到<code>OC-EFI</code>-<code>OC</code>- <code>Drivers</code>里面，注意OC必须有FwRuntimeServices.efi（一般下载包里面都有）。OC用的的.efi文件不多，拷贝进去的可能很多用不上，正常引导后，删除用不到的.efi。</p><h4 id="2-5、驱动转移"><a href="#2-5、驱动转移" class="headerlink" title="2.5、驱动转移"></a>2.5、驱动转移</h4><p>将<code>Clover-EFI</code>-<code>CLOVER</code>-<code>kexts</code>-<code>Other</code>里面所有驱动全部拷贝到<code>OC-EFI</code>-<code>OC</code>- <code>Kexts</code>里面。</p><h4 id="2-6、config-plist文件"><a href="#2-6、config-plist文件" class="headerlink" title="2.6、config.plist文件"></a>2.6、config.plist文件</h4><p>将OC包/Docs里面的范例Sample.plist或SampleFull.plist之一拷贝到OC-EFI-OC里面，并改名为config.plist。</p><h4 id="2-7、config-plist文件处理"><a href="#2-7、config-plist文件处理" class="headerlink" title="2.7、config.plist文件处理"></a>2.7、config.plist文件处理</h4><p>分别用相应的配置工具打开Clover-config.plist与OC-config.plist。</p><h3 id="三、-开始配置OC-config-plist"><a href="#三、-开始配置OC-config-plist" class="headerlink" title="三、    开始配置OC-config.plist"></a>三、    开始配置OC-config.plist</h3><h4 id="3-1、Config-ACPI设置："><a href="#3-1、Config-ACPI设置：" class="headerlink" title="3.1、Config-ACPI设置："></a>3.1、Config-ACPI设置：</h4><h5 id="3-1-1、config-ACPI-添加（Add）："><a href="#3-1-1、config-ACPI-添加（Add）：" class="headerlink" title="3.1.1、config-ACPI-添加（Add）："></a>3.1.1、config-ACPI-添加（Add）：</h5><p>先删除范例里面所有DSDT/SSDT，点浏览，到OC-EFI/OC/ACPI，选取所有你使用的DSDT/SSDT。（我的建议是，特别是台式机，能不用DSDT/SSDT的，就不要用，除非你精通且清楚DSDT/SSDT的作用！）</p><h5 id="3-1-2、config-ACPI-阻止（Block）："><a href="#3-1-2、config-ACPI-阻止（Block）：" class="headerlink" title="3.1.2、config-ACPI-阻止（Block）："></a>3.1.2、config-ACPI-阻止（Block）：</h5><p>对应Clover-ACPI-Drop Tables，除非你明白确切意义，一般不用。</p><h5 id="3-1-3、config-ACPI-补丁（Patch）："><a href="#3-1-3、config-ACPI-补丁（Patch）：" class="headerlink" title="3.1.3、config-ACPI-补丁（Patch）："></a>3.1.3、config-ACPI-补丁（Patch）：</h5><p>对应Clover-ACPI-补丁，用于热补丁，可以用OpenCore Configurator-工具-配置转换器，将Clover-config.plist转换为OC-config.plist（临时），用拷贝-复制的方式很方便的将Clover-config.plist补丁添加到OC-config.plist里面，如果热补丁过多，而你又不知道确切作用，建议你，逐个调试删除，保留最少的、必要的热补丁。具体补丁包可以查看宪武大神做的OC-Little补丁包（链接:<a href="https://pan.baidu.com/s/1vuhjE_oTE5RvVpNWddRqhA" target="_blank" rel="noopener">https://pan.baidu.com/s/1vuhjE_oTE5RvVpNWddRqhA</a>  密码:2h6z）。<br>下面是10.15.x常用的2个补丁：<br>更改控制器EC0名称</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Comment：EC0 to EC</span><br><span class="line">Find：4543305F </span><br><span class="line">Replace：45435F5F </span><br></pre></td></tr></table></figure></blockquote><p>解决RTC问题：</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Comment：Fix AsRock Z390 BIOS DSDT Device(RTC) bug</span><br><span class="line">Find：A00A9353 54415301 </span><br><span class="line">Replace：A00A910A FF0BFFFF </span><br></pre></td></tr></table></figure></blockquote><h5 id="3-1-4、config-ACPI-Quirks："><a href="#3-1-4、config-ACPI-Quirks：" class="headerlink" title="3.1.4、config-ACPI-Quirks："></a>3.1.4、config-ACPI-Quirks：</h5><ul><li>FadtEnableReset：主要用于老旧主板的开关机功能，如果你关机变重启，可以勾选，一般情况下<code>==不勾选==</code>。</li><li>ReseHwSig：与休眠有关的选项，台式机一般不用，<code>==不勾选==</code></li><li>NormalizeHeaders：清理ACPI头，一般<code>==勾选==</code>，如果有相应的热补丁，可以不勾选。</li><li>RebaseRegions：更换硬件或升级BIOS可能对ACPI产生影响，一般<code>==不勾选==</code>。如果遇到卡PCI Configuration Begin，就勾选试试。</li><li>Resetlogstatus：重置日志，一般<code>==不勾选==</code>。</li></ul><img src="/2020/02/21/instructions/index/D6777DE0.png" alt="D6777DE0" style="zoom:50%;" /><table><thead><tr><th>Quirks</th><th>选项</th><th align="left">解释</th></tr></thead><tbody><tr><td>FadtEnableReset</td><td><code>不勾选</code></td><td align="left">主要用于老旧主板的开关机功能，如果你关机变重启，可以勾选</td></tr><tr><td>ReseHwSig</td><td><code>不勾选</code></td><td align="left">与休眠有关的选项</td></tr><tr><td>NormalizeHeaders</td><td><code>（不）勾选</code></td><td align="left">清理ACPI头，如果有相应的热补丁，可以不勾选</td></tr><tr><td>RebaseRegions</td><td><code>不勾选</code></td><td align="left">更换硬件或升级BIOS可能对ACPI产生影响。遇到卡PCI Configuration Begin，就勾选试试。</td></tr><tr><td>Resetlogstatus</td><td><code>不勾选</code></td><td align="left">重置日志</td></tr></tbody></table><h4 id="3-2、Config-Booter设置"><a href="#3-2、Config-Booter设置" class="headerlink" title="3.2、Config-Booter设置"></a>3.2、Config-Booter设置</h4><h5 id="3-2-1、config-Booter-MmioWhitelist（内存映射IO白名单）"><a href="#3-2-1、config-Booter-MmioWhitelist（内存映射IO白名单）" class="headerlink" title="3.2.1、config-Booter-MmioWhitelist（内存映射IO白名单）"></a>3.2.1、config-Booter-MmioWhitelist（内存映射IO白名单）</h5><p>默认第一项是为<code>==Haswell芯片==</code>提供内存寻址修复，此类芯片如果遇到内存相关问题，就勾选启用。 默认第二项是开机卡PCI Configuration。ACPI、PCI device同时释放到内存时发生0x1000内存地址被占用而卡在PCI Configuration，则勾选，否则无视！</p><h5 id="3-2-2、config-Booter-Quirks："><a href="#3-2-2、config-Booter-Quirks：" class="headerlink" title="3.2.2、config-Booter-Quirks："></a>3.2.2、config-Booter-Quirks：</h5><p>此设置与FwRuntimeServices.efi有密切关系，FwRuntimeServices.efi将一些功能与OC合并、模块化。对于Z390等无法原生nvram的主板来说，此处的选项需要格外关注！</p><ul><li>AvoidRuntimeDefrag：绝大部分UEFI都会写入时间、电源管理等信息，只要是黑苹果，此项必须<code>==勾选==</code>。</li><li>DevirtualiseMmio：一般情况下，采用slide=1的方式进行连续性内存注入，故一般<code>==不勾选==</code>，除非你的机器用了KASLR方式。（台式机基本没有）。</li><li>DisableSingleUser：是否开启单用户模式（-s）。一般<code>==不勾选==</code>。</li><li>DisableVariableWrite：非原生nvram主板需要模拟nvram.plist写入variable值，所以<code>==非原生nvram主板==必须==勾选==</code>，<code>==原生nvram==主板则==不勾选==</code>。</li><li>DiscardHibernateMap：这个选项帮助我们解决下面的冲突：当电脑从休眠中唤醒时，硬盘里面的资料会恢复到内存中去，此时OC内核以及内核缓存也要写入，二者可能产生冲突。就目前而言，台式机无视休眠功能，故，<code>==不勾选==</code>！</li><li>EnableSafeModeSlide：安全模式下（-x）是否用连续性的内存注入方式，一般<code>==勾选==</code>。</li><li>EnableWriteUnprotector：保证nvram能正常写入，而不受UEFI内的一些服务影响，故，都需要<code>==勾选==</code>。</li><li>ForceExitBootServices：为让老旧主板也能使用内存寻址，正常情况下，<code>==不勾选==</code>，除非你的额主板很老很旧。至于何为老旧主板，自己根据实践摸索试验。</li><li>ProtectCsmRegion：确保CSM内存区域标记为ACPI NVS，以防止boot.efi或XNU重新定位或使用它们。但是由于AvoidRuntimeDefrag解决了类似的问题，故<code>==不勾选==</code>。</li><li>ProvideCustomSlide：此选项时强制macOS在可用的slide值中使用一个随机的、不产生冲突的slide值，故，<code>==必须勾选==</code>。</li><li>SetupVirtualMap：通过虚拟内存建立连续性内存供OC使用，并映射到分散的物理内存中，故，<code>==必须勾选==</code>。</li><li>ShrinMemoryMap：目前主板都符合苹果的内核对内存的规范，一般<code>==不勾选==</code>。除非由于内存问题无法开机（多见于微星主板），则勾选，进行测试。</li><li>SignalAppleOS：将其他操作系统的信息报告给正在加载的macOS，<code>==不勾选==</code>。</li><li>Booter-Quirks-ProtectSecureBoot<code>（0216版新增）</code>保护UEFI安全引导变量写入参数时不被干扰而引起冲突，默认<code>不勾选（false）</code></li></ul><img src="/2020/02/21/instructions/index/099D7880.png" alt="099D7880" style="zoom:50%;" /><h4 id="3-3、Config-DeviceProperties设置："><a href="#3-3、Config-DeviceProperties设置：" class="headerlink" title="3.3、Config-DeviceProperties设置："></a>3.3、Config-DeviceProperties设置：</h4><p>此项是用来描述/注入设备信息。主要是显卡与声卡，当然，也可以定制一些设备到关于本机-系统报告-PCI列表中去。</p><h5 id="3-3-1：Config-DeviceProperties-添加（Add）："><a href="#3-3-1：Config-DeviceProperties-添加（Add）：" class="headerlink" title="3.3.1：Config-DeviceProperties-添加（Add）："></a>3.3.1：Config-DeviceProperties-添加（Add）：</h5><p>PCI信息导出：打开Hackintool，到PCI列表，点击下面的导出，在桌面生成4个文件，如果是在Clover-EFI环境下导出的，需要用OpenCore Configurator-工具-配置转换器打开pcidevices.plist，能看到全部PCI信息。此信息是基于你目前采用Clover开机状态下所有可以正常使用的PCI信息。删除模版中所有设备，将你需要的设备拷贝过来。并稍作修改。具体的可以去看<a href="https://shuiyunxc.gitee.io/2020/01/27/OpenCore-configuration-video-version-2/" target="_blank" rel="noopener">OpenCore配置视频第二版</a></p><h6 id="3-3-1-1：声卡："><a href="#3-3-1-1：声卡：" class="headerlink" title="3.3.1.1：声卡："></a>3.3.1.1：声卡：</h6><ul><li>一般情况下声卡的路径是<code>PciRoot(0x0)/Pci(0x1f,0x3)</code>。</li><li>右边的键/值一般稍作修改，比如接口<code>AAPL,slot-name</code>的值可以改为<code>Built In</code>（内建/内置）。</li><li>显示名称<code>model</code>的值改为Hackintool-音频-音频设备-名称里面的。</li><li><code>layout-id</code>的值一般就用导出的。不用修改。</li><li>其他就用导出的值。</li></ul><h6 id="3-3-1-2：显卡："><a href="#3-3-1-2：显卡：" class="headerlink" title="3.3.1.2：显卡："></a>3.3.1.2：显卡：</h6><ul><li>无集显的CPU直接删除路径<code>PciRoot(0x0)/Pci(0x2,0x0)</code>，将pcidevices.plist中独显信息直接拷贝过来，我的路径是：PciRoot(0x20)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x0)。</li><li><code>AAPL,slot-name</code>的值改为<code>PCIEX1</code>或者<code>Slot-1</code>。</li><li><code>model</code>的值可以改为<code>Radeon Pro Vega 56</code>（根据自己显卡的名字修改）。</li><li>其他不动。</li><li>独显DP/HDMI声卡：直接将pcidevices.plist中独显DP/HDMI声卡信息直接拷贝过来，我的路径<code>PciRoot(0x20)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x1)</code>。</li><li><code>AAPL,slot-name</code>的值与显卡相同。</li><li><code>model</code>的值可以改为与显卡匹配，比如Radeon Pro Vega 56 DP/HDMI Audio。其他不动。</li><li>有集显的CPU：路径<code>PciRoot(0x0)/Pci(0x2,0x0)</code>。一般情况下，直接将pcidevices.plist中集显的信息直接拷贝过来，就可以了，稍作修改，如AAPL,slot-name改为Built In（内建/内置）。model的值稍作修饰。关于仅使用集显的，可能遇到HDMI接口紫屏的问题，请自行搜索解决办法。</li></ul><h5 id="3-3-2：Config-DeviceProperties-阻止（Block）："><a href="#3-3-2：Config-DeviceProperties-阻止（Block）：" class="headerlink" title="3.3.2：Config-DeviceProperties-阻止（Block）："></a>3.3.2：Config-DeviceProperties-阻止（Block）：</h5><p>此项默认即可。一般不做修改。</p><h4 id="3-4：Config-Kernel设置："><a href="#3-4：Config-Kernel设置：" class="headerlink" title="3.4：Config-Kernel设置："></a>3.4：Config-Kernel设置：</h4><p>此项是内存相关的设置。</p><h5 id="3-4-1：Config-Kernel-添加（Add）："><a href="#3-4-1：Config-Kernel-添加（Add）：" class="headerlink" title="3.4.1：Config-Kernel-添加（Add）："></a>3.4.1：Config-Kernel-添加（Add）：</h5><p>直接点击浏览，到OC-EFI/OC/Kexts，选取全部，这里需要注意的是，Lilu.kext必须调整到第一位。对于依赖VirtualSMC.kext或FakeSMC.kext的驱动，则必须放在他们的后面。需要启用的，后面需要勾选。</p><h5 id="3-4-2：Config-Kernel-阻止（Block），"><a href="#3-4-2：Config-Kernel-阻止（Block），" class="headerlink" title="3.4.2：Config-Kernel-阻止（Block），"></a>3.4.2：Config-Kernel-阻止（Block），</h5><p>禁用一些驱动。默认即可。</p><h5 id="3-4-3：Config-Kernel-补丁（Patch）："><a href="#3-4-3：Config-Kernel-补丁（Patch）：" class="headerlink" title="3.4.3：Config-Kernel-补丁（Patch）："></a>3.4.3：Config-Kernel-补丁（Patch）：</h5><p>范例里面的4个一般情况下不用，2个RTC的补丁可以用于华硕的主板（二选一），但需要测试。主要解决华硕主板重启BIOS重置，需要按F1跳过的问题。</p><h5 id="3-4-4：Config-Kernel-CPU仿冒，"><a href="#3-4-4：Config-Kernel-CPU仿冒，" class="headerlink" title="3.4.4：Config-Kernel-CPU仿冒，"></a>3.4.4：Config-Kernel-CPU仿冒，</h5><p>2种情况下，需要仿冒。<br>1、macOS尚不支持的CPU。<br>2、为不受支持的CPU启用XCPM。<br>对于XCPM支持，建议使用以下组合。<br>•Haswell-E（0x306F2）至Haswell（0x0306C3）：<br>Cpuid1Data：C3 06 03 00 00 00 00 00 00 00 00 00 00 00<br>Cpuid1Mask:：FF FF FF FF 00 00 00 00 00 00 00 00 00 00<br>•Broadwell-E（0x0406F1）至Broadwell（0x0306D4）：<br>Cpuid1Data：D4 06 03 00 00 00 00 00 00 00 00 00 00 00<br>Cpuid1Mask:：FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00。<br>进一步情况可以见<a href="https://github.com/acidanthera/bugtracker/issues/365" target="_blank" rel="noopener"> acidanthera/bugtracker#365</a>。</p><h5 id="3-4-5：Config-Kernel-Quirks："><a href="#3-4-5：Config-Kernel-Quirks：" class="headerlink" title="3.4.5：Config-Kernel-Quirks："></a>3.4.5：Config-Kernel-Quirks：</h5><p>这个是内核相关的选项，==重要==！</p><ul><li><p>AppleCpuPmCfgLock：如果你BIOS里面<code>CFG/MSR</code>已经<code>==关闭==</code>，则<code>==不勾选==</code>。<code>==没有关闭==</code>，则必须<code>==勾选==</code>，不清楚是否关闭，请用Hackintool-工具-点击Intel标志-从appleintellnfo获取，查找CFG Lock，如果显示0（MSR not lockde）则是关闭，如果显示1（MSR locked）则是开启。BIOS里面没有CFG/MSR相关选项的，CFG Lock关闭的方法见<a href="https://shuiyunxc.gitee.io/2020/02/13/Unlock/index/" target="_blank" rel="noopener">OpenCore引导Mac下解除CFG LOCK锁定</a>。</p></li><li><p>AppleXcpmCfgLock：同上。</p></li><li><p>AppleXcpmExtraMsrs：主要是在无原生电源管理的CPU上使用，一般是<code>Haswell-E，Broadwell-E，Skylake-X这三种CPU，必须勾选</code>，<code>其他CPU不用勾选</code>。</p></li><li><p><strong>（0.5.6新增）</strong>AppleXcpmForceBoost：此补丁将<code>0xFF00</code> 写入到<code>MSR_IA32_PERF_CONTROL (0x199),</code>一般CPU都不勾选，只有某些Xeon的CPU有作用。</p></li><li><p>CustomSMBIOSGuid：戴尔本本用的，一般<code>不勾选</code>。</p></li><li><p>DisableIoMapper：禁止vt-d，如果BIOS里面禁止了，就<code>不勾选</code>。</p></li><li><p><strong>（0.5.6新增）</strong>DummyPowerManagement：对于一些需要禁用AppleIntelCpuPowerManagement，采用NullCpuPowerManagement.kext 进行电源管理的CPU，必须勾选。其他CPU不勾选。</p></li><li><p>ExternalDiskIcons：AHCI控制器相关。现在主流主板对AHCI支持都很好，一般<code>不勾选</code>。</p></li><li><p><strong>（0.5.5新增）IncreasePciBarSize：</strong>将IOPCIFamily中的32位PCI带宽大小从1GB增加到4GB，一般<code>不勾选</code></p></li><li><p>LapicKernelPanic：用于惠普本本的内核崩溃，一般<code>不勾选</code>。</p></li><li><p>PanicNoKextDump：显示kext出错信息，一般<code>不勾选</code>。</p></li><li><p>PowerTimeoutKernelPanic：当遇到睡眠不能唤醒，只有重启后才能唤醒的情况下勾选，台式机一般<code>不勾选</code>。</p></li><li><p>ThirdPartyDrives：类似于开启Sata固态硬盘的trim功能。有Sata固态硬盘勾选，没有则<code>不勾选</code>。</p></li><li><p>XhciPortLimit：解除15个端口限制，确认USB端口完美定制的可以不勾选。一般<code>勾选</code>。</p><p><img src="https://img-blog.csdnimg.cn/20200118163725859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NodWl5dW54Yw==,size_16,color_FFFFFF,t_70" alt="Config-Kernel-Quirks勾选"></p></li></ul><h4 id="3-5：Config-Misc设置"><a href="#3-5：Config-Misc设置" class="headerlink" title="3.5：Config-Misc设置"></a>3.5：Config-Misc设置</h4><h5 id="3-5-1：Config-Misc-BlessOverride："><a href="#3-5-1：Config-Misc-BlessOverride：" class="headerlink" title="3.5.1：Config-Misc-BlessOverride："></a>3.5.1：Config-Misc-BlessOverride：</h5><p>这个选择是寻找一些不同位置的EFI，一般空。</p><h5 id="3-5-2：Config-Misc-Boot："><a href="#3-5-2：Config-Misc-Boot：" class="headerlink" title="3.5.2：Config-Misc- Boot："></a>3.5.2：Config-Misc- Boot：</h5><ul><li><p><del><strong>（0.5.6新增）</strong>BuiltinTextRenderer：机型设置为MacPro5,1,需要勾选，其他不勾选。</del> <font color= "#FF0000" >移到UEFI-Output并改名为TextRenderer▼</font></p></li><li><p><del>ConsoleBehaviourOs：开机巨大苹果，选ForceText或其他，自行调整。</del>删除</p></li><li><p><del>ConsoleBehaviourUi：同上。</del>删除</p></li><li><p><del>ConsoleMode：开机巨大苹果，选Max或其他，自行调整。</del><font color= "#FF0000" >移到UEFI-Output▼</font></p></li><li><p>HibernateMode：检测休眠模式，一般选none，原生支持nvram的，并想休眠（注意不是睡眠）的，选auto。</p></li><li><p>HideSelf：隐藏自身的EFI引导盘选项，当其他操作系统与Mac引导盘在同一EFI位置时不勾选（就是单硬盘双/多系统的单EFI引导的情况）。一般是勾选滴。</p></li><li><p>PollAppleHotKeys：是否开一些组合热键，如command+K；command+S。如果发现开机键盘无法选择，则不勾选。并删除OC/Drivers下的UsbKbDxe.efi。</p></li><li><p><del>Resolution：开机分辨率，自行选择，如2560x1440；3840x2160等等。</del><font color= "#FF0000" >移到UEFI-Output▼</font></p></li><li><p>ShowPicker：是否显示开机启动盘显示，一般<code>勾选</code>，长期稳定使用的情况下可以不勾选。</p></li><li><p>Timeout ：倒计时，0～30的整数。</p></li><li><p><strong>（0.5.6新增）</strong>TakeoffDelay：在选择启动盘之前与快捷键操作的延迟。一般是0，对于一些键盘驱动需要填写5000-10000（微秒）。 </p></li><li><p><del>UsePicker：是否使用OC的开机启动盘选项，<code>==勾选==</code>。</del>删除</p></li><li><p><font color= "#FF0000" >Misc-Boot-PickerAudioAssist （0229新增）</font></p><p>开启/关闭（true/false）启动时音频</p></li><li><p><font color= "#FF0000" >Misc-boot-PickerMode启动界面选择（为将来引入UI做准备）（0216新增）</font></p><ol><li><font color= "#FF0000" >Builtin模式：使用简单的纯文本用户界面</font></li><li>External模式：如果外部模式引导可用则启用，否则使用纯文本用户界面。</li><li>Apple模式：如果苹果引导可用则启用，否则使用纯文本用户界面。</li></ol><p>在External模式下，完全禁用OpenCore对所有引导管理，除非有强制策略。</p><p>在Apple模式下，可以绕过强制策略。</p><p>要实现External模式，用户自定义界面，使用OcSupportPkg、 OcBootManagementLib库，外部图形接     </p><p>口参考在ExternalUi测试驱动程序中提供。</p><p>OpenCore-Builtin模式引导包含在引导过程中支持几个快捷键，类似于苹果的BDS，目前有以下几个：</p><p>Default-默认选项：使用OpenCore内置引导</p><p> ShowPicker项：勾选此项，则此项变为默认项，强制picker显示，可以在引导时使用Option。</p><p>ResetNvram项：在勾选AllowNvramReset的情况下，可以使用CMD+OPT+P+R组合键来实现清除（Reset） NVRAM，当然还可以用另一种方式来清除NVRAM。</p><p>BootApple项：执行此选项会找到的苹果操作系统的第一个引导，除非苹果已经创建了默认选择的操作系统。按住X键可选择此选项。</p><p>BootAppleRecovery项：此选项执行引导到Apple操作系统恢复模式。要么是与默认选择的操作系统相关的操作系统，要么是在默认选择的操作系统不是由苹果公司创建或没有恢复的情况下首先找到的操作系统。按住CMD+R组合键可选择此选项。</p></li><li><p><font color= "#FF0000" >Misc-boot-HideAuxiliary：隐藏引导是磁盘一些辅助选项（0216新增）</font></p><p>勾选时，隐藏如：recovery、Clean NVRAM等，按ESC，0，空格后，显示而不隐藏。</p></li><li><p><font color= "#FF0000" >Misc-boot-PickerAttributes使用纯文本用户界面时背景与前景颜色选择（0216新增）</font></p><p>根据UEFI规范，用参数的选择，来调节背景与前景的颜色，默认值为<code>0</code></p><img src="/2020/02/21/instructions/index/6DF6A653.png" alt="6DF6A653" style="zoom:50%;" /></li></ul><h5 id="3-5-3：Config-Misc-Debug：调试选项"><a href="#3-5-3：Config-Misc-Debug：调试选项" class="headerlink" title="3.5.3：Config-Misc-Debug：调试选项"></a>3.5.3：Config-Misc-Debug：调试选项</h5><ul><li>DisableWatchDog：<code>==不勾选==</code>。</li><li>DisplayDelay：显示延迟，填入<code>0</code>。</li><li>DisplayLevel：显示等级，填入：<code>2147483650</code>。</li><li>Target：目标，一般填入<code>3</code>。</li></ul><h5 id="3-5-4：Config-Misc-Entries：添加一些路径。现在暂时不管。"><a href="#3-5-4：Config-Misc-Entries：添加一些路径。现在暂时不管。" class="headerlink" title="3.5.4：Config-Misc-Entries：添加一些路径。现在暂时不管。"></a>3.5.4：Config-Misc-Entries：添加一些路径。现在暂时不管。</h5><h5 id="3-5-5：Config-Misc-Security：安全设置，"><a href="#3-5-5：Config-Misc-Security：安全设置，" class="headerlink" title="3.5.5：Config-Misc- Security：安全设置，"></a>3.5.5：Config-Misc- Security：安全设置，</h5><ul><li><p>AllowNvramReset：<code>==勾选==</code>是在开机引导选项中加入重置nvram缓存功能，调试完毕，稳定后，可以不勾选。</p></li><li><p>AuthRestart：与filevault相关，<code>==不勾选==</code>。</p></li><li><p>ExposeSensitiveData：由于使用nvram，填入<code>3</code></p></li><li><p>HaltLevel：显示级别，填入：<code>2147483648</code>。</p></li><li><p><del>RequireSignature：开启vault加密。<code>==不勾选==</code>。</del></p></li><li><p><del>RequireVault：开启vault加密。<code>==不勾选==</code>。</del><font color= "#FF0000" >改名为Vault：磁盘加密</font></p><p><font color= "#FF0000" >填写Optional时，为选择磁盘不加密，一般情况下都填写<code>Optional</code></font></p><p>填写Basic时，启用基本的系统文件加密验证</p><p>填写Secure时，启用完整全面的系统文件加密验证</p></li><li><p>ScanPolicy：扫描策略，默认<code>983299</code>即可。建议填写<code>3080963</code>或<code>3870467</code>，也可以直接填写<code>0</code>解除所有限制<br>（ScanPolicy 参数是用来控制Oc扫描启动项的，对于苹果来说这显得多余。苹果的固件可以选择 禁用第三方安装盘 也就是 他会默认禁用U盘安装盘 需要进入Recovery 关闭保护才能正常引导，而黑果这种设计显得不那么灵活。</p><ul><li><p>0x00000001 (bit 0) — OC_SCAN_FILE_SYSTEM_LOCK, restricts scanning to only known file systems defined as a part of this policy. File system drivers may not be aware of this policy, and to avoid mounting of undesired file systems it is best not to load its driver. This bit does not affect dmg mounting, which may have any file system. Known file systems are prefixed with OC_SCAN_ALLOW_FS_.</p></li><li><p>0x00000002 (bit 1) — OC_SCAN_DEVICE_LOCK, restricts scanning to only known device types defined as a part of this policy. This is not always possible to detect protocol tunneling, so be aware that on some systems it may be possible for e.g. USB HDDs to be recognised as SATA. Cases like this must be reported. Known device types are prefixed with OC_SCAN_ALLOW_DEVICE_.</p></li><li><p>0x00000100 (bit 8) — OC_SCAN_ALLOW_FS_APFS, allows scanning of APFS file system.</p></li><li><p>0x00000200 (bit 9) — OC_SCAN_ALLOW_FS_HFS, allows scanning of HFS file system.</p></li><li><p>0x00000400 (bit 10) — OC_SCAN_ALLOW_FS_ESP, allows scanning of EFI System Partition file system.</p></li><li><p>0x00000800 (bit 11) — OC_SCAN_ALLOW_FS_NTFS, allows scanning of NTFS (Msft Basic Data) file system.</p></li><li><p>0x00001000 (bit 12) — OC_SCAN_ALLOW_FS_EXT, allows scanning of EXT (Linux Root) file system.</p></li><li><p>0x00010000 (bit 16) — OC_SCAN_ALLOW_DEVICE_SATA, allow scanning SATA devices.</p></li><li><p>0x00020000 (bit 17) — OC_SCAN_ALLOW_DEVICE_SASEX, allow scanning SAS and Mac NVMe devices.</p></li><li><p>0x00040000 (bit 18) — OC_SCAN_ALLOW_DEVICE_SCSI, allow scanning SCSI devices.</p></li><li><p>0x00080000 (bit 19) — OC_SCAN_ALLOW_DEVICE_NVME, allow scanning NVMe devices.</p></li><li><p>0x00100000 (bit 20) — OC_SCAN_ALLOW_DEVICE_ATAPI, allow scanning CD/DVD devices.</p></li><li><p>0x00200000 (bit 21) — OC_SCAN_ALLOW_DEVICE_USB, allow scanning USB devices.</p></li><li><p>0x00400000 (bit 22) — OC_SCAN_ALLOW_DEVICE_FIREWIRE, allow scanning FireWire devices.</p></li><li><p>0x00800000 (bit 23) — OC_SCAN_ALLOW_DEVICE_SDCARD, allow scanning card reader devices.</p><p>首先这个参数可以是16进制「Data」也可以是10进制「Number」<br>0xF0103 通过计算器可以很容易转换成10进制983299<br>0xF0103 包含以下的限制：</p><p> • OC_SCAN_FILE_SYSTEM_LOCK :文件系统限制-0x00000001 (bit 0)</p><p> • OC_SCAN_DEVICE_LOCK：磁盘IO口类型限制-0x00000002 (bit 1)</p><p> • OC_SCAN_ALLOW_FS_APFS：允许扫描APFS分区-0x00000100 (bit 8)</p><p> • OC_SCAN_ALLOW_FS_HFS：允许扫描HFS分区-0x00000200 (bit 9)</p><p> • OC_SCAN_ALLOW_DEVICE_SATA：允许扫描SATA总线磁盘-0x00010000 (bit 16)</p><p> • OC_SCAN_ALLOW_DEVICE_SASEX ：允许扫描SAS总线磁盘-0x00020000 (bit 17)</p><p> • OC_SCAN_ALLOW_DEVICE_SCSI ：允许扫描SCSI总线磁盘-0x00040000 (bit 18)</p><p> • OC_SCAN_ALLOW_DEVICE_NVME：允许扫描NVME总线磁盘-0x00080000 (bit 19)</p><p> • OC_SCAN_ALLOW_DEVICE_USB：允许扫描USB设备-0x00200000 (bit 21)</p></li></ul><p>以上16进制为<br>0x00000001</p><p>0x00000002+=0x3</p><p>0x00000100+=0x103</p><p>0x00000200+=0x303</p><p>0x00010000+=0x10303</p><p>0x00020000+=0x30303</p><p>0x00040000+=0x70303</p><p>0x00080000+=0xF0303</p><p>0x00200000+=0x2F0303===&gt;3080963<br>3080963可引导APFS和HFS分区适合nvram和模拟nvram正常的使用 系统通过更新nvram控制启动磁盘，安装，更新可自动完成，理论上应该开启所有扫描项以及所有磁盘IO类型扫描 但是某些人需求只扫描OSX或者并不想扫描到Win系统，<code>如果设置0 则关闭所有限制</code>）</p></li><li><p>AllowSetDefault：允许CTRL+Enter和CTRL+Index处理在引导选择器中设置默认引导选项。</p></li></ul><img src="/2020/02/21/instructions/index/25EB37AC.png" alt="25EB37AC" style="zoom:50%;" /><h5 id="3-5-6：Config-Misc-Tools-工具选项："><a href="#3-5-6：Config-Misc-Tools-工具选项：" class="headerlink" title="3.5.6：Config-Misc-Tools 工具选项："></a>3.5.6：Config-Misc-Tools 工具选项：</h5><p>在开机的时候，加入工具，比如有Shell.efi，CleanNvram.efi，VerifyMsrE2.efi等，自行选择，如果勾选的话在EFI/OC/Tools文件夹中必须包含这些。</p><img src="/2020/02/21/instructions/index/6DF6A653.png" alt="6DF6A653" style="zoom:50%;" /><h4 id="3-6：Config-NVRAM设置"><a href="#3-6：Config-NVRAM设置" class="headerlink" title="3.6：Config-NVRAM设置"></a>3.6：Config-NVRAM设置</h4><h5 id="3-6-1：Config-NVRAM-添加（Add）"><a href="#3-6-1：Config-NVRAM-添加（Add）" class="headerlink" title="3.6.1：Config-NVRAM-添加（Add）"></a>3.6.1：Config-NVRAM-添加（Add）</h5><h6 id="3-6-1-1：UUID：4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14："><a href="#3-6-1-1：UUID：4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14：" class="headerlink" title="3.6.1.1：UUID：4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14："></a>3.6.1.1：UUID：4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14：</h6><p>值01普通模式或02HIPDI模式。根据自己的显示情况选取。</p><h6 id="3-6-1-2：NVRAM-Add-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14"><a href="#3-6-1-2：NVRAM-Add-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14" class="headerlink" title="3.6.1.2：NVRAM-Add-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14"></a><font color= "#FF0000" >3.6.1.2：NVRAM-Add-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14</font></h6><p><font color= "#FF0000" >DefaultBackgroundColor:增加此项，数字为<code>00000000</code> (0216新增)</font></p><h6 id="3-6-1-2：UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82：对应的Clover-config里面的引导参数与引导界面里面的相关内容。"><a href="#3-6-1-2：UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82：对应的Clover-config里面的引导参数与引导界面里面的相关内容。" class="headerlink" title="3.6.1.2：UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82：对应的Clover-config里面的引导参数与引导界面里面的相关内容。"></a>3.6.1.2：UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82：对应的Clover-config里面的引导参数与引导界面里面的相关内容。</h6><ul><li><p>prev-lang:kbd：键盘布局或语言选项，填入<code>7a68 2d48 616e 733a 3235 32</code>，为中文。</p></li><li><p>csr-active-config：SIP保护。填入<code>E7030000</code>是关闭保护，类似于Clover-condig-变量设置-Csr配置的0x67。填入<code>00000000</code>是开启保护，类似于Clover-condig-变量设置-Csr配置的0x1ff。</p></li><li><p>boot-args：相当于Clover-config-引导参数-参数里面的内容。将里面的内容，拷贝到值下面，用空格间隔。例如：<code>npci=0x3000 agdpmod=pikera -v</code>等等。</p></li><li><p><font color= "#FF0000" >SystemAudioVolume （02-29新增）</font></p><p>系统音量大小调节，默认46</p></li></ul><h5 id="3-6-2：Config-NVRAM-阻止（Block），"><a href="#3-6-2：Config-NVRAM-阻止（Block），" class="headerlink" title="3.6.2：Config-NVRAM-阻止（Block），"></a>3.6.2：Config-NVRAM-阻止（Block），</h5><p>禁用一些nvram变量。不用设置。</p><p><font color= "#FF0000" >NVRAM-Block-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor(0216新增)</font></p><h5 id="3-6-3：Config-NVRAM-LegacySchema，"><a href="#3-6-3：Config-NVRAM-LegacySchema，" class="headerlink" title="3.6.3：Config-NVRAM-LegacySchema，"></a>3.6.3：Config-NVRAM-LegacySchema，</h5><p>nvram的变量设置。<br>删除范例7C436110-AB2A-4BBB-A880-FE41995C9F82中的所有，添加==<code>efi-boot-device</code>与<code>efi-boot-device-data</code>==这2项。</p><p><font color= "#FF0000" >此项下(0229新增)SystemAudioVolume、SystemAudioVolumeDB、SystemAudioVolumeSaved等</font></p><p>删除范例8BE4DF61-93CA-11D2-AA0D-00E098032B8C中的所有选项。</p><h5 id="3-6-4：Config-NVRAM-LegacyEnable，"><a href="#3-6-4：Config-NVRAM-LegacyEnable，" class="headerlink" title="3.6.4：Config-NVRAM-LegacyEnable，"></a>3.6.4：Config-NVRAM-LegacyEnable，</h5><p><code>非原生nvram主板勾选</code>。<code>原生nvram主板不勾选</code>。</p><h5 id="3-6-5：Config-NVRAM-WriteFlash，"><a href="#3-6-5：Config-NVRAM-WriteFlash，" class="headerlink" title="3.6.5：Config-NVRAM-WriteFlash，"></a>3.6.5：Config-NVRAM-WriteFlash，</h5><p>一般<code>不勾选</code>。</p><h5 id="3-6-6：LegacyOverwrite，"><a href="#3-6-6：LegacyOverwrite，" class="headerlink" title="3.6.6：LegacyOverwrite，"></a>3.6.6：LegacyOverwrite，</h5><p>允许从nvram.plist重写固件变量。一般<code>不勾选</code><strong>（055新增）</strong></p><h4 id="3-7：Config-PlatformInfo设置。"><a href="#3-7：Config-PlatformInfo设置。" class="headerlink" title="3.7：Config-PlatformInfo设置。"></a>3.7：Config-PlatformInfo设置。</h4><p>类似于Clover-config-机型设置，一般人就点检查覆盖范围右边的键，选择适合你自己机器的机型。至于三码。自己结合Clover-config里面填写。</p><p><strong>（0.5.6新增）</strong>Config-PlatformInfo-Generic-AdviseWindows：此项与引导Windows有关，强制固件对Windows的支持。 以下2个情况需要勾选:<br> • 开启CSM (0x1)，EFI分区不在第一启动盘上，无法引导Windows。 </p><p>• 关闭CMS，采用纯UEFI (0x2)，EFI分区在第一启动盘上，无法引导 Windows。</p><h5 id="3-7-1：其他选项"><a href="#3-7-1：其他选项" class="headerlink" title="3.7.1：其他选项"></a>3.7.1：其他选项</h5><ul><li>Automatic（自动）：<code>==勾选==</code>。</li><li>UpdateDataHub：<code>==勾选==</code>。</li><li>UpdateNVRAM：<code>==勾选==</code>。</li><li>UpdateSMBIOS：<code>==勾选==</code>。</li><li>UpdateSMBIOSMode：<code>==创建/覆盖==</code></li></ul><h4 id="3-8：Config-UEFI，"><a href="#3-8：Config-UEFI，" class="headerlink" title="3.8：Config-UEFI，"></a>3.8：Config-UEFI，</h4><p>UEFI的相关设置。</p><h5 id="3-8-1：Audio（0229新增）包括此项下7个小项"><a href="#3-8-1：Audio（0229新增）包括此项下7个小项" class="headerlink" title="3.8.1：Audio（0229新增）包括此项下7个小项"></a><font color= "#FF0000" >3.8.1：Audio（0229新增）包括此项下7个小项</font></h5><ul><li><font color= "#FF0000" >AudioSupport-（false/true）：关闭/开启末端驱动以停止/启用开机音频</font></li><li><font color= "#FF0000" >AudioDevice-指定音频控制器路径，如：PciRoot(0x0)/Pci(0x1f,0x3)。</font></li><li><font color= "#FF0000" >AudioCodec-设置音频控制器上解码器的地址，如：2。</font></li><li><font color= "#FF0000" >AudioOut-设置解码器输出端口数，如1或4或7等。</font></li><li><font color= "#FF0000" >MinimumVolume-音量大小选择，默认是20。</font></li><li><font color= "#FF0000" >PlayChime-false/true，关闭/开启启动时播放铃声。</font></li><li><font color= "#FF0000" >VolumeAmplifier-音频增益系数。0～1000。</font></li></ul><h5 id="3-8-12：ConnectDrivers，"><a href="#3-8-12：ConnectDrivers，" class="headerlink" title="3.8.12：ConnectDrivers，"></a>3.8.<del>1</del>2：ConnectDrivers，</h5><p>连接驱动程序。==勾选==。</p><h5 id="3-8-23：Config-UEFI-Drivers，"><a href="#3-8-23：Config-UEFI-Drivers，" class="headerlink" title="3.8.23：Config-UEFI-Drivers，"></a>3.8.<del>2</del>3：Config-UEFI-Drivers，</h5><p>UFEI驱动，一般情况下，新版OC只用3个：HfsPlus.efi，ApfsDriverLoader.efi和FwRuntimeServices.efi，新版的OC将VirtualSmc.efi并入到OpenCore.efi。至于UsbKbDxe.efi根据自己的需要选择。</p><ul><li><code>ApfsDriverLoader</code> — 对APFS格式的支持</li><li><code>FwRuntimeServices</code> — 使用OpenCore引导必须使用</li><li><code>EnhancedFatDxe</code> — 对FAT格式的支持 </li><li><code>NvmExpressDxe</code> — 对于Haswell或更早不支持NVMe SSD添加的驱动</li><li><code>AppleUsbKbDxe</code> — 将USB键盘模拟为苹果键盘的驱动</li><li><code>VBoxHfs</code> — 对HFS格式的支持</li><li><code>XhciDxe</code> — XHCI USB驱动，Sandy Bridge以前的CPU、主板或者USB3.0PCI卡需要此驱动</li></ul><h5 id="3-8-3：Config-UEFI-Apple快捷键相关（Input）："><a href="#3-8-3：Config-UEFI-Apple快捷键相关（Input）：" class="headerlink" title="3.8.3：Config-UEFI-Apple快捷键相关（Input）："></a>3.8.3：Config-UEFI-Apple快捷键相关（Input）：</h5><ul><li>KeyForgetThreshold：设置为<code>5</code>。</li><li>KeyMergeThreshold：设置为<code>2</code>。</li><li>KeySupport：<code>==勾选==</code>。</li><li>KeySupportMode：选择<code>==Auto==</code>。</li><li>KeySwap：==勾选==。</li><li>PointerSupport：如果是华硕Z87/Z97，勾选，其他<code>不勾选</code>。</li><li>TimerResolution：延迟选<code>50000</code>。</li><li>PointerSupportMode：范例是ASUS。<code>不改</code>。</li></ul><img src="/2020/02/21/instructions/index/BAAEBFD.png" alt="BAAEBFD" style="zoom:50%;" /><h5 id="3-8-4：Config-UEFI-协议（Protocols）："><a href="#3-8-4：Config-UEFI-协议（Protocols）：" class="headerlink" title="3.8.4：Config-UEFI-协议（Protocols）："></a>3.8.4：Config-UEFI-协议（Protocols）：</h5><ul><li>AppleBootPolicy：虚拟机的Mac需要用，<code>==不勾选==</code>。</li><li>AppleEvent：虚拟机并有vault需要用，<code>==不勾选==</code>。</li><li>AppleImageConversion：重建apple图标，<code>==不勾选==</code>。</li><li>AppleKeyMap：重建apple功能键，<code>==不勾选==</code>。</li><li>AppleSmcIo：替代之前的VirtualSmc.efi，<code>==055以后的版本可以不勾选==</code>。</li><li>AppleUserInterfaceTheme ：与主题有关，<code>==不勾选==</code>。</li><li><del>ConsoleControl：主机控制界面，必须<code>==勾选==</code>！</del><font color= "#FF0000" >删除</font></li><li>DataHub：重建DataHub，<code>==不勾选==</code>。</li><li>DeviceProperties：虚拟机需要，<code>==不勾选==</code>。</li><li>FirmwareVolume：File Vault的相关，<code>==不勾选==</code>。</li><li>HashServices：File Vault的相关，<code>==不勾选==</code>。</li><li>OSInfo：操作系统信息协议，<code>==不勾选==</code>。</li><li>UnicodeCollation：老旧主板需要，<code>==不勾选==</code>。</li><li><font color= "#FF0000" >AppleAudio-false/true：关闭/开启苹果音频协议（不支持10.13以前的版本）。(0229新增)</font></li></ul><h5 id="3-8-5：Config-UEFI-Quirks设置"><a href="#3-8-5：Config-UEFI-Quirks设置" class="headerlink" title="3.8.5：Config-UEFI-Quirks设置"></a>3.8.5：Config-UEFI-Quirks设置</h5><ul><li>IgnoreInvalidFlexRatio：<code>==如果没有解锁CFG，必须勾选==</code>。</li><li><del>IgnoreTextInGraphics：一些BIOS同时输出文字和视频导致花屏，如果有这个情况，不勾选，一般是<code>==勾选==</code>的。</del><font color= "#FF0000" >移到UEFI-Output★</font></li><li><del>ProvideConsoleGop：调用显卡GOP，<code>==勾选==</code>。</del><font color= "#FF0000" >移到UEFI-Output★</font></li><li>ReleaseUsbOwnership：如果开机键盘鼠标卡死，勾选试试，一般是<code>==不勾选==</code>的。</li><li>RequestBootVarRouting：<code>==如果要使用“启动磁盘”的选项，勾选==</code>。</li><li><del>SanitiseClearScreen：清理屏幕分辨率，根据自己的情况选择。</del><font color= "#FF0000" >移到UEFI-Output★</font></li><li>ExitBootServicesDelay：较新的主板直接填入<code>0</code>，老旧主板填入3000000-5000000。</li><li><del>AvoidHighAlloc：避免高位内存寻址，已经用了slide，所以一般<code>==不勾选==</code>。<font color= "#FF0000" >删除</font></del></li><li><del>ClearScreenOnModeSwitch：图像与文本模式切换时，只清除部分屏幕。一般<code>==不勾选==</code>。</del><font color= "#FF0000" >移到UEFI-Output★</font></li><li><del>ReplaceTabWithSpace：<code>==不勾选==</code>。</del><font color= "#FF0000" >移到UEFI-Output★</font></li><li><del>ReconnectOnResChange：如果遇到开机直到登陆界面之前一直黑屏，那么勾选试试。</del><font color= "#FF0000" >移到UEFI-Output★</font></li><li>UnblockFsConnect：与惠普本本相关，一般<code>==不勾选==</code>。</li><li>RequestBootVarFallback：与双系统有关，一般<code>==不勾选==</code>。</li></ul><img src="/2020/02/21/instructions/index/9E25ED0D.png" alt="9E25ED0D" style="zoom:50%;" /><h5 id="3-8-6：Config-UEFI-Output（显示输出）设置：-0216新增"><a href="#3-8-6：Config-UEFI-Output（显示输出）设置：-0216新增" class="headerlink" title="3.8.6：Config-UEFI-Output（显示输出）设置：(0216新增)"></a><font color= "#FF0000" >3.8.6：Config-UEFI-Output（显示输出）设置：(0216新增)</font></h5><p>新增此大项，包含10个小项，将Misc-boot中的3项、UEFI-Quirks中的6项移到此项下，并新增一项</p><ul><li><font color= "#FF0000" >ClearScreenOnModeSwitch，由UEFI-Quirks项下转移★</font>一般不勾选(<code>false</code>)</li><li><font color= "#FF0000" >ConsoleMode，由Misc-boot项下转移▼</font>一般选<code>Max</code></li><li>DirectGopRendering，新增项，一般不勾选(<code>false</code>)，除非勾选后，对显示效果有利（对某些显卡有效）</li><li><font color= "#FF0000" >IgnoreTextInGraphics，由UEFI-Quirks项下转移★</font>一般是<code>勾选（true）</code></li><li><font color= "#FF0000" >ProvideConsoleGop，由UEFI-Quirks项下转移★</font>一般是<code>勾选（true）</code></li><li><font color= "#FF0000" >ReconnectOnResChange，由UEFI-Quirks项下转移★</font>一般不勾选(<code>false</code>)如果遇到开机直到登陆界面之前一直黑屏，那么勾选试试</li><li><font color= "#FF0000" >ReplaceTabWithSpace，由UEFI-Quirks项下转移★</font>一般是<code>勾选（true）</code></li><li><font color= "#FF0000" >Resolution，由Misc-boot项下转移▼</font>开机分辨率，自行选择，如2560x1440；3840x2160等等。</li><li><font color= "#FF0000" >SanitiseClearScreen，由UEFI-Quirks项下转移★</font>自行选择(<code>false或true</code>)</li><li><font color= "#FF0000" >TextRenderer，由Misc-boot-BuiltinTextRenderer转移并改名。▼</font>一般选SystemGraphics或SystemText</li></ul><p>​        TextRenderer有4个选项：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">• BuiltinGraphics — 切换到图形模式并使用内置渲染器和自定义控制台控件。选择此项需要勾ProvideConsoleGop，并将Resolution设置为Max</span><br><span class="line">• SystemGraphics — 切换到图形模式并使用带有自定义控制台控件的系统渲染器。</span><br><span class="line">• SystemText — 切换到文本模式并使用带有自定义控制台控件。</span><br><span class="line">• SystemGeneric — 使用系统控制台中的控件。</span><br><span class="line">一般情况下首选设置是SystemGraphics或SystemText。启用providecosolegop、将Resolution设置为Max、启用ReplaceTabWithSpace，几乎所有配置和机型都好用。特别说明下，机型设置为MacPro5,1只能选择BuiltinGraphics</span><br></pre></td></tr></table></figure><img src="/2020/02/21/instructions/index/3F23F0FD.jpg" alt="3F23F0FD" style="zoom:50%;" /><h4 id="如有变化，保持更新！"><a href="#如有变化，保持更新！" class="headerlink" title="如有变化，保持更新！"></a>如有变化，保持更新！</h4><p>更新日志：</p><p>2020-03-02:第六次更新—基于OpenCore0.5.6官方正式版（0302版）</p><p>2020-02-21:第五次更新—基于OpenCore0.5.6（0223版）</p><p>2020-02-21:第四次更新—基于OpenCore0.5.6（0219版）</p><p>2020-02-05:第三次更新—基于OpenCore0.5.6</p><p>2020-01-30:第二次更新—基于OpenCore0.5.5</p><p>2020-01-18:第一次更新—基于OpenCore0.5.4</p><h4 id="附录："><a href="#附录：" class="headerlink" title="附录："></a>附录：</h4><p><font color= "#FF0000" >根据网友的建议，<a href="https://shuiyunxc.gitee.io/2020/02/21/instructions/index/OpenCore配置文字说明第二版（0302更新）.pdf" target="_blank" rel="noopener">提供PDF版下载</a>，供大家线下参阅！</font></p><img src="https://img.shields.io/badge/更新日期：-2020年03月02日-violet?style=flat-square" align='center'>]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCore-0.5.6-02-03版与02-16版差异</title>
      <link href="/2020/02/17/difference/index/"/>
      <url>/2020/02/17/difference/index/</url>
      
        <content type="html"><![CDATA[<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><h3 id="由于我身在武汉，切身体会到疫情的严重性。衷心的感谢奋战在抗疫第一线的医生、护士、自愿者和所有为此付出的人士。为武汉加油！为湖北加油！为中国加油！为中国人民加油！引用老人家的一句词：待到山花烂漫时，她在丛中笑。祝福所有人！！"><a href="#由于我身在武汉，切身体会到疫情的严重性。衷心的感谢奋战在抗疫第一线的医生、护士、自愿者和所有为此付出的人士。为武汉加油！为湖北加油！为中国加油！为中国人民加油！引用老人家的一句词：待到山花烂漫时，她在丛中笑。祝福所有人！！" class="headerlink" title="由于我身在武汉，切身体会到疫情的严重性。衷心的感谢奋战在抗疫第一线的医生、护士、自愿者和所有为此付出的人士。为武汉加油！为湖北加油！为中国加油！为中国人民加油！引用老人家的一句词：待到山花烂漫时，她在丛中笑。祝福所有人！！"></a><font color= "#FF0000" >由于我身在武汉，切身体会到疫情的严重性。衷心的感谢奋战在抗疫第一线的医生、护士、自愿者和所有为此付出的人士。为武汉加油！为湖北加油！为中国加油！为中国人民加油！引用老人家的一句词：待到山花烂漫时，她在丛中笑。祝福所有人！！</font></h3><h2 id=""><a href="#" class="headerlink" title=""></a><div class="note class\_name info"><p>OpenCore-0.5.6-02-03版与02-16版差异</p></div></h2><h3 id="0-5-6-02-24更新项目："><a href="#0-5-6-02-24更新项目：" class="headerlink" title="0.5.6-02-24更新项目："></a>0.5.6-02-24更新项目：</h3><ul><li>添加开机提示音.</li><li>在boot.efi 中增加音频支持,针对10.13以上的版本。</li></ul><h3 id="0-5-6-02-23更新项目："><a href="#0-5-6-02-23更新项目：" class="headerlink" title="0.5.6-02-23更新项目："></a>0.5.6-02-23更新项目：</h3><ul><li>改进了LapicKernelPanic与新macOS版本的兼容性。（多用于惠普）</li><li>修正了以#开头的驱动程序没有被跳过的问题。<a id="more"></a></li></ul><h3 id="0219版与0216版的差异主要在变更说明文件上，其他无差异，要用02-16版配置config，请去看OpenCore配置文字说明第二版（基于2月19日编译版）"><a href="#0219版与0216版的差异主要在变更说明文件上，其他无差异，要用02-16版配置config，请去看OpenCore配置文字说明第二版（基于2月19日编译版）" class="headerlink" title="0219版与0216版的差异主要在变更说明文件上，其他无差异，要用02-16版配置config，请去看OpenCore配置文字说明第二版（基于2月19日编译版）"></a>0219版与0216版的差异主要在<code>变更说明文件</code>上，其他无差异，要用02-16版配置config，请去看<a href="https://shuiyunxc.gitee.io/2020/02/21/instructions/index/" target="_blank" rel="noopener">OpenCore配置文字说明第二版（基于2月19日编译版）</a></h3><h3 id="2020-02-20-OpenCore-Configurator更新到1-15-0-1，解决了开机第一阶段黑屏（无苹果-读条），是因为Config-UEFI-Output下ProvideConsoleGop没有实现勾选（true）。"><a href="#2020-02-20-OpenCore-Configurator更新到1-15-0-1，解决了开机第一阶段黑屏（无苹果-读条），是因为Config-UEFI-Output下ProvideConsoleGop没有实现勾选（true）。" class="headerlink" title="2020-02-20,OpenCore Configurator更新到1.15.0.1，解决了开机第一阶段黑屏（无苹果+读条），是因为Config-UEFI-Output下ProvideConsoleGop没有实现勾选（true）。"></a>2020-02-20,OpenCore Configurator更新到1.15.0.1，解决了开机第一阶段黑屏（无苹果+读条），是因为Config-UEFI-Output下ProvideConsoleGop没有实现勾选（true）。</h3><h3 id="2020-02-20-经过一天的使用，发现1-15-0-0版的OpenCore-Configurator存在一个BUG，凡事用这个OpenCore-Configurator编辑的config，开机第一阶段黑屏（无苹果-读条），到第二阶段才出现读条，所以建议暂时不要使用，切！切！当然如果无视第一阶段黑屏，那就用吧！"><a href="#2020-02-20-经过一天的使用，发现1-15-0-0版的OpenCore-Configurator存在一个BUG，凡事用这个OpenCore-Configurator编辑的config，开机第一阶段黑屏（无苹果-读条），到第二阶段才出现读条，所以建议暂时不要使用，切！切！当然如果无视第一阶段黑屏，那就用吧！" class="headerlink" title="2020-02-20-经过一天的使用，发现1.15.0.0版的OpenCore Configurator存在一个BUG，凡事用这个OpenCore Configurator编辑的config，开机第一阶段黑屏（无苹果+读条），到第二阶段才出现读条，所以建议暂时不要使用，切！切！当然如果无视第一阶段黑屏，那就用吧！"></a><font color= "#FF0000" >2020-02-20-经过一天的使用，发现1.15.0.0版的OpenCore Configurator存在一个BUG，凡事用这个OpenCore Configurator编辑的config，开机第一阶段黑屏（无苹果+读条），到第二阶段才出现读条，所以建议暂时不要使用，切！切！当然如果无视第一阶段黑屏，那就用吧！</font></h3><h3 id="2020-02-19-OpenCore-Configurator已经更新到1-15-0-0，可以编辑最新的0-5-6-02-16版-请自行更新！！"><a href="#2020-02-19-OpenCore-Configurator已经更新到1-15-0-0，可以编辑最新的0-5-6-02-16版-请自行更新！！" class="headerlink" title="2020-02-19-OpenCore Configurator已经更新到1.15.0.0，可以编辑最新的0.5.6-02-16版,请自行更新！！"></a><font color= "#FF0000" >2020-02-19-OpenCore Configurator已经更新到1.15.0.0，可以编辑最新的0.5.6-02-16版,请自行更新！！</font></h3><h3 id="Booter增加项："><a href="#Booter增加项：" class="headerlink" title="Booter增加项："></a>Booter增加项：</h3><h4 id="1-Booter-Quirks-ProtectSecureBoot保护安全启动"><a href="#1-Booter-Quirks-ProtectSecureBoot保护安全启动" class="headerlink" title="1.Booter-Quirks-ProtectSecureBoot保护安全启动"></a>1.Booter-Quirks-ProtectSecureBoot保护安全启动</h4><p>保护UEFI安全引导变量写入参数时不被干扰而引起冲突</p><p>默认不勾选-<code>false</code></p><h3 id="Misc删除项："><a href="#Misc删除项：" class="headerlink" title="Misc删除项："></a>Misc删除项：</h3><h4 id="1-Misc-boot-BuiltinTextRenderer-移到UEFI-Output并改名为TextRenderer▼"><a href="#1-Misc-boot-BuiltinTextRenderer-移到UEFI-Output并改名为TextRenderer▼" class="headerlink" title="1.Misc-boot-BuiltinTextRenderer-移到UEFI-Output并改名为TextRenderer▼　"></a><font color= "#FF0000" >1.Misc-boot-BuiltinTextRenderer-移到UEFI-Output并改名为TextRenderer▼</font>　</h4><h4 id="2-Misc-boot-ConsoleBehaviourOs"><a href="#2-Misc-boot-ConsoleBehaviourOs" class="headerlink" title="2.Misc-boot-ConsoleBehaviourOs"></a><del>2.Misc-boot-ConsoleBehaviourOs</del></h4><h4 id="3-Misc-boot-ConsoleBehaviourUi"><a href="#3-Misc-boot-ConsoleBehaviourUi" class="headerlink" title="3.Misc-boot-ConsoleBehaviourUi"></a><del>3.Misc-boot-ConsoleBehaviourUi</del></h4><h4 id="4-Misc-boot-ConsoleMode-移到UEFI-Output▼"><a href="#4-Misc-boot-ConsoleMode-移到UEFI-Output▼" class="headerlink" title="4.Misc-boot-ConsoleMode-移到UEFI-Output▼"></a><font color= "#FF0000" >4.Misc-boot-ConsoleMode-移到UEFI-Output▼</font></h4><h4 id="5-Misc-boot-Resolution-移到UEFI-Output▼"><a href="#5-Misc-boot-Resolution-移到UEFI-Output▼" class="headerlink" title="5.Misc-boot-Resolution-移到UEFI-Output▼"></a><font color= "#FF0000" >5.Misc-boot-Resolution-移到UEFI-Output▼</font></h4><h4 id="6-Misc-boot-UsePicker"><a href="#6-Misc-boot-UsePicker" class="headerlink" title="6.Misc-boot-UsePicker"></a><del>6.Misc-boot-UsePicker</del></h4><h4 id="7-Misc-Security-RequireSignature"><a href="#7-Misc-Security-RequireSignature" class="headerlink" title="7.Misc-Security-RequireSignature"></a><del>7.Misc-Security-RequireSignature</del></h4><h4 id="8-Misc-Security-RequireVault"><a href="#8-Misc-Security-RequireVault" class="headerlink" title="8.Misc-Security-RequireVault"></a><del>8.Misc-Security-RequireVault</del></h4><h3 id="Misc增加项："><a href="#Misc增加项：" class="headerlink" title="Misc增加项："></a>Misc增加项：</h3><h4 id="1-Misc-boot-PickerMode启动界面选择（为将来引入UI做准备）"><a href="#1-Misc-boot-PickerMode启动界面选择（为将来引入UI做准备）" class="headerlink" title="1.Misc-boot-PickerMode启动界面选择（为将来引入UI做准备）"></a>1.Misc-boot-PickerMode启动界面选择（为将来引入UI做准备）</h4><ol><li><font color= "#FF0000" >Builtin模式：使用简单的纯文本用户界面</font>，目前选择<code>Builtin</code></li><li>External模式：如果外部模式引导可用则启用，否则使用纯文本用户界面。</li><li>Apple模式：如果苹果引导可用则启用，否则使用纯文本用户界面。</li></ol><p>在External模式下，完全禁用OpenCore对所有引导管理，除非有强制策略。</p><p>在Apple模式下，可以绕过强制策略。</p><p>要实现External模式，用户自定义界面，使用OcSupportPkg、 OcBootManagementLib库，外部图形接     </p><p>口参考在ExternalUi测试驱动程序中提供。</p><p>OpenCore-Builtin模式引导包含在引导过程中支持几个快捷键，类似于苹果的BDS，目前有以下几个：</p><p>Default-默认选项：使用OpenCore内置引导</p><p> ShowPicker项：勾选此项，则此项变为默认项，强制picker显示，可以在引导时使用Option。</p><p>ResetNvram项：在勾选AllowNvramReset的情况下，可以使用CMD+OPT+P+R组合键来实现清除（Reset） NVRAM，当然还可以用另一种方式来清除NVRAM。</p><p>BootApple项：执行此选项会找到的苹果操作系统的第一个引导，除非苹果已经创建了默认选择的操作系统。按住X键可选择此选项。</p><p>BootAppleRecovery项：此选项执行引导到Apple操作系统恢复模式。要么是与默认选择的操作系统相关的操作系统，要么是在默认选择的操作系统不是由苹果公司创建或没有恢复的情况下首先找到的操作系统。按住CMD+R组合键可选择此选项。</p><h4 id="2-Misc-boot-PickerAttributes使用纯文本用户界面时背景与前景颜色选择"><a href="#2-Misc-boot-PickerAttributes使用纯文本用户界面时背景与前景颜色选择" class="headerlink" title="2.Misc-boot-PickerAttributes使用纯文本用户界面时背景与前景颜色选择"></a>2.Misc-boot-PickerAttributes使用纯文本用户界面时背景与前景颜色选择</h4><p>根据UEFI规范，用参数的选择，来调节背景与前景的颜色，默认值为<code>0</code></p><h4 id="3-Misc-boot-HideAuxiliary隐藏引导是磁盘一些辅助选项"><a href="#3-Misc-boot-HideAuxiliary隐藏引导是磁盘一些辅助选项" class="headerlink" title="3.Misc-boot-HideAuxiliary隐藏引导是磁盘一些辅助选项"></a>3.Misc-boot-HideAuxiliary隐藏引导是磁盘一些辅助选项</h4><p><code>勾选（true）</code>时，隐藏如：recovery、Clean NVRAM等，按ESC，0，空格后，显示而不隐藏。</p><h4 id="4-Misc-Entries-0-Auxiliary"><a href="#4-Misc-Entries-0-Auxiliary" class="headerlink" title="4.Misc-Entries-0-Auxiliary"></a>4.Misc-Entries-0-Auxiliary</h4><p>当Misc-boot-HideAuxiliary<code>勾选（true）</code>时，该项目显示在磁盘选择界面里。</p><h4 id="5-Misc-Security-Vault加密磁盘"><a href="#5-Misc-Security-Vault加密磁盘" class="headerlink" title="5.Misc-Security-Vault加密磁盘"></a>5.Misc-Security-Vault加密磁盘</h4><p><font color= "#FF0000" >填写Optional时，为不选择磁盘加密，一般情况下都填写<code>Optional</code></font></p><p>填写Basic时，启用基本的系统文件加密验证</p><p>填写Secure时，启用完整全面的系统文件加密验证</p><h4 id="6-Misc-Tools-0-N-Auxiliary"><a href="#6-Misc-Tools-0-N-Auxiliary" class="headerlink" title="6.Misc-Tools-0-N-Auxiliary"></a>6.Misc-Tools-0-N-Auxiliary</h4><p>当Misc-boot-HideAuxiliary<code>勾选（true）</code>时，该项目显示在磁盘选择界面里。</p><h3 id="NVRAM增加项"><a href="#NVRAM增加项" class="headerlink" title="NVRAM增加项"></a>NVRAM增加项</h3><h4 id="1-NVRAM-Add-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor"><a href="#1-NVRAM-Add-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor" class="headerlink" title="1.NVRAM-Add-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor"></a>1.NVRAM-Add-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor</h4><p>增加此项，数字为<code>00000000</code> </p><h4 id="2-NVRAM-Block-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor"><a href="#2-NVRAM-Block-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor" class="headerlink" title="2.NVRAM-Block-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor"></a>2.NVRAM-Block-4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14-DefaultBackgroundColor</h4><p>增加此项</p><h3 id="UEFI删除项"><a href="#UEFI删除项" class="headerlink" title="UEFI删除项"></a>UEFI删除项</h3><h4 id="1-UEFI-Protocols-ConsoleControl"><a href="#1-UEFI-Protocols-ConsoleControl" class="headerlink" title="1.UEFI-Protocols-ConsoleControl"></a><del>1.UEFI-Protocols-ConsoleControl</del></h4><h4 id="2-UEFI-Quirks-AvoidHighAlloc"><a href="#2-UEFI-Quirks-AvoidHighAlloc" class="headerlink" title="2.UEFI-Quirks-AvoidHighAlloc"></a><del>2.UEFI-Quirks-AvoidHighAlloc</del></h4><h4 id="3-UEFI-Quirks-ClearScreenOnModeSwitch-移到UEFI-Output★"><a href="#3-UEFI-Quirks-ClearScreenOnModeSwitch-移到UEFI-Output★" class="headerlink" title="3.UEFI-Quirks-ClearScreenOnModeSwitch-移到UEFI-Output★"></a><font color= "#FF0000" >3.UEFI-Quirks-ClearScreenOnModeSwitch-移到UEFI-Output★</font></h4><h4 id="4-UEFI-Quirks-IgnoreTextInGraphics-移到UEFI-Output★"><a href="#4-UEFI-Quirks-IgnoreTextInGraphics-移到UEFI-Output★" class="headerlink" title="4.UEFI-Quirks-IgnoreTextInGraphics-移到UEFI-Output★"></a><font color= "#FF0000" >4.UEFI-Quirks-IgnoreTextInGraphics-移到UEFI-Output★</font></h4><h4 id="5-UEFI-Quirks-ProvideConsoleGop-移到UEFI-Output★"><a href="#5-UEFI-Quirks-ProvideConsoleGop-移到UEFI-Output★" class="headerlink" title="5.UEFI-Quirks-ProvideConsoleGop-移到UEFI-Output★"></a><font color= "#FF0000" >5.UEFI-Quirks-ProvideConsoleGop-移到UEFI-Output★</font></h4><h4 id="6-UEFI-Quirks-ReconnectOnResChange-移到UEFI-Output★"><a href="#6-UEFI-Quirks-ReconnectOnResChange-移到UEFI-Output★" class="headerlink" title="6.UEFI-Quirks-ReconnectOnResChange-移到UEFI-Output★"></a><font color= "#FF0000" >6.UEFI-Quirks-ReconnectOnResChange-移到UEFI-Output★</font></h4><h4 id="7-UEFI-Quirks-ReplaceTabWithSpace-移到UEFI-Output★"><a href="#7-UEFI-Quirks-ReplaceTabWithSpace-移到UEFI-Output★" class="headerlink" title="7.UEFI-Quirks-ReplaceTabWithSpace-移到UEFI-Output★"></a><font color= "#FF0000" >7.UEFI-Quirks-ReplaceTabWithSpace-移到UEFI-Output★</font></h4><h4 id="8-UEFI-Quirks-SanitiseClearScreen-移到UEFI-Output★"><a href="#8-UEFI-Quirks-SanitiseClearScreen-移到UEFI-Output★" class="headerlink" title="8.UEFI-Quirks-SanitiseClearScreen-移到UEFI-Output★"></a><font color= "#FF0000" >8.UEFI-Quirks-SanitiseClearScreen-移到UEFI-Output★</font></h4><h3 id="UEFI增加项"><a href="#UEFI增加项" class="headerlink" title="UEFI增加项"></a>UEFI增加项</h3><h4 id="1-UEFI-Output新增此大项，"><a href="#1-UEFI-Output新增此大项，" class="headerlink" title="1.UEFI-Output新增此大项，"></a>1.UEFI-Output新增此大项，</h4><p>包含10个小项，将Misc-boot中的3项、UEFI-Quirks中的6项移到此项下，并新增一项</p><ul><li><font color= "#FF0000" >ClearScreenOnModeSwitch，由UEFI-Quirks项下转移★</font>一般不勾选(<code>false</code>)</li><li><font color= "#FF0000" >ConsoleMode，由Misc-boot项下转移▼</font>一般选<code>Max</code></li><li>DirectGopRendering，新增项，一般不勾选(<code>false</code>)，除非勾选后，对显示效果有利（对某些显卡有效）</li><li><font color= "#FF0000" >IgnoreTextInGraphics，由UEFI-Quirks项下转移★</font>一般是<code>勾选（true）</code></li><li><font color= "#FF0000" >ProvideConsoleGop，由UEFI-Quirks项下转移★</font>一般是<code>勾选（true）</code></li><li><font color= "#FF0000" >ReconnectOnResChange，由UEFI-Quirks项下转移★</font>一般不勾选(<code>false</code>)如果遇到开机直到登陆界面之前一直黑屏，那么勾选试试</li><li><font color= "#FF0000" >ReplaceTabWithSpace，由UEFI-Quirks项下转移★</font>一般是<code>勾选（true）</code></li><li><font color= "#FF0000" >Resolution，由Misc-boot项下转移▼</font>开机分辨率，自行选择，如2560x1440；3840x2160等等。</li><li><font color= "#FF0000" >SanitiseClearScreen，由UEFI-Quirks项下转移★</font>自行选择(<code>false或true</code>)</li><li><font color= "#FF0000" >TextRenderer，由Misc-boot-BuiltinTextRenderer转移并改名。▼</font>一般选SystemGraphics或SystemText</li></ul><p>​            有4个选项：</p><ol><li><p>BuiltinGraphics — 切换到图形模式并使用内置渲染器和自定义控制台控件。选择此项需要勾选ProvideConsoleGop，并将Resolution设置为Max</p></li><li><p>SystemGraphics — 切换到图形模式并使用带有自定义控制台控件的系统渲染器。</p></li><li><p>SystemText — 切换到文本模式并使用带有自定义控制台控件。</p></li><li><p>SystemGeneric — 使用系统控制台中的控件。</p><p>一般情况下首选设置是<code>SystemGraphics</code>或<code>SystemText</code>。启用<code>providecosolegop（true）</code>、将<code>Resolution</code>设置为<code>Max</code>、启用<code>ReplaceTabWithSpace（true）</code>，几乎所有配置和机型都好用。特别说明下，机型设置为<code>MacPro5,1</code>只能选择<code>BuiltinGraphics</code></p></li></ol><h3 id="根据以上情况，在OOC未更新的情况下，暂时用文本界面软件如Xcode、PlistEdit-Pro等编辑config，"><a href="#根据以上情况，在OOC未更新的情况下，暂时用文本界面软件如Xcode、PlistEdit-Pro等编辑config，" class="headerlink" title="根据以上情况，在OOC未更新的情况下，暂时用文本界面软件如Xcode、PlistEdit Pro等编辑config，"></a><del>根据以上情况，在OOC未更新的情况下，暂时用文本界面软件如Xcode、PlistEdit Pro等编辑config，</del></h3><p>用2020-02-19编译的</p><p>下图为2020-02-17按照02-16版配置后，顺利进到系统。显示的OC版本。</p><img src="/2020/02/17/difference/index/B4C4EF16.png" alt="B4C4EF16" style="zoom:50%;" /><h4 id="附：1-OpenCore各版本集中下载地址-在发行版里面有个版本的下载。"><a href="#附：1-OpenCore各版本集中下载地址-在发行版里面有个版本的下载。" class="headerlink" title="附：1.OpenCore各版本集中下载地址--在发行版里面有个版本的下载。"></a>附：1.OpenCore各版本集中下载地址-<a href="https://gitee.com/shuiyunxc/OpenCore" target="_blank" rel="noopener"><i class="fa fa-download" aria-hidden="true"></i></a>-在发行版里面有个版本的下载。</h4><h4 id="2-待0-5-6的官方稳定版本确立后，将推出从0-5-5转到官方稳定版0-5-6的配置转换视频，敬请期待！"><a href="#2-待0-5-6的官方稳定版本确立后，将推出从0-5-5转到官方稳定版0-5-6的配置转换视频，敬请期待！" class="headerlink" title="2.待0.5.6的官方稳定版本确立后，将推出从0.5.5转到官方稳定版0.5.6的配置转换视频，敬请期待！"></a>2.待0.5.6的官方稳定版本确立后，将推出从0.5.5转到官方稳定版0.5.6的配置转换视频，敬请期待！</h4>]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCore引导Mac下解除CFG LOCK锁定</title>
      <link href="/2020/02/13/Unlock/index/"/>
      <url>/2020/02/13/Unlock/index/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a><div class="note class\_name info"><p><font color= "#FF0000"  align="center">OpenCore引导Mac下解除CFG LOCK锁定的方法-2020-02-15更新</font> </p></div></h2><h3 id="更新BIOS"><a href="#更新BIOS" class="headerlink" title="更新BIOS"></a>更新BIOS</h3><p>下载最新的BIOS，保存主板BIOS设置，更新主板BIOS，恢复主板BIOS设置至新BIOS。</p><h3 id="提取新BIOS的CFG-Lock数据"><a href="#提取新BIOS的CFG-Lock数据" class="headerlink" title="提取新BIOS的CFG Lock数据"></a>提取新BIOS的CFG Lock数据</h3><p>由OpenCore引导进到Mac，然后下载工具包，下载地址<a href="https://gitee.com/shuiyunxc/CFG-Lock-Tools" target="_blank" rel="noopener"><i class="fa fa-download" aria-hidden="true"></i></a><a id="more"></a><br>将工具包中的<code>modGRUBShell.efi</code>放入<code>OpenCore-EFI-Drivers</code><br>修改<code>config.plist</code>-<code>Config-Misc</code>-<code>Tools-添加附加工具</code>中，添加<code>modGRUBShell.efi</code>，并启用。 同时，将<code>config.plist</code>中与CFG Lock有关的勾选去掉，将修改后的EFI放入U盘里面的EFI分区。<strong>（先不要动硬盘里面的EFI，待完成后面的操作，U盘能正常引导，再替换！这个很重要！！）</strong><br><img src="/2020/02/13/Unlock/index/D6892260.png" alt="D6892260" style="zoom:50%;" /></p><h4 id="打开工具包中-UEFITool，"><a href="#打开工具包中-UEFITool，" class="headerlink" title="打开工具包中-UEFITool，"></a>打开工具包中-UEFITool，</h4><p>菜单栏选择<code>File</code>&gt;<code>Open image file…</code>选取上面下载的最新BIOS。点<code>File</code>&gt;<code>Searsh</code>，打开搜索框，选择Text，输入<code>CFG Lock</code>，回车。定位到包含CFG Lock的模块。</p><img src="/2020/02/13/Unlock/index/D42B5F41.png" alt="D42B5F41" style="zoom:50%;" /><p>点选包含CFG Lock的模块，右键-<code>Extract as is…</code>，到桌面，名字命名为<code>1.bin</code></p><img src="/2020/02/13/Unlock/index/279AEC39.png" alt="279AEC39" style="zoom:50%;" /><img src="/2020/02/13/Unlock/index/1C1465EC-3C51.png" alt="1C1465EC-3C51" style="zoom:50%;" /><h4 id="生成可读CFG-Lock文件"><a href="#生成可读CFG-Lock文件" class="headerlink" title="生成可读CFG Lock文件"></a>生成可读CFG Lock文件</h4><p>将工具包中的<code>ifrextract</code>放在桌面，打开终端，把<code>ifrextract</code>拖入终端，在把<code>1.bin</code>拖入终端，再输入<code>1.txt</code>,回车。在用户-你的用户名下生存<code>1.txt</code>，</p><img src="/2020/02/13/Unlock/index/0B092DDF.png" alt="0B092DDF" style="zoom:50%;" /><h4 id="获取CFG-Lock地址"><a href="#获取CFG-Lock地址" class="headerlink" title="获取CFG Lock地址"></a>获取CFG Lock地址</h4><p>将<code>1.txt</code>移到桌面，双击打开（如果提示打不开，在文本编辑-偏好设置-打开和储存-打开文件-选择<code>西文（Mac OS Roman）</code>）即可打开。按<code>command+F</code>，输入<code>CFG Lock</code>，回车，定位到<code>CFG Lock</code></p><img src="/2020/02/13/Unlock/index/B31F6904.png" alt="B31F6904" style="zoom:50%;" /><p>整理如下：</p><ul><li>CFG LOCK, VarStoreInfo (VarOffset/VarName): 0x84, VarStore: 0x5</li><li>One Of Option: Disable, Value (8 bit): 0x0</li><li>One Of Option: Enable, Value (8 bit): 0x1 (default)</li></ul><p><code>0x84</code>是CFG Lock的地址（这个地址是我的数值，只是例子，你们的地址是不同的），这个<code>0x1 (default)</code> 为BIOS默认值是锁定的，我们就是要将<code>0x84</code>地址下的数值修改为<code>0x0</code>。</p><h4 id="2020-02-15更新，简单快速获取CFG-Lock地址"><a href="#2020-02-15更新，简单快速获取CFG-Lock地址" class="headerlink" title="2020-02-15更新，简单快速获取CFG Lock地址"></a>2020-02-15更新，简单快速获取CFG Lock地址</h4><p>利用网友开发的工具：set_dump GUI</p><p>打开set_dump GUI，选择下载的新BIOS，输入关键词，点搜索关键词，等待十几秒，就是出现下图的数字，地址可能与上面获取的地址有差异，也可能是相同的，但是经过我的验证都是有效的。地址为<code>0x529</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Vendor: AMI</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">CFG Lock: 0x529</span><br><span class="line">   Disabled        0x0   </span><br><span class="line">   Enabled         0x1 (default)            </span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">1 items found, 1 valid</span><br></pre></td></tr></table></figure><img src="/2020/02/13/Unlock/index/30A1BC7B.png" alt="30A1BC7B" style="zoom:50%;" /><h4 id="修改CFG-Lock锁定"><a href="#修改CFG-Lock锁定" class="headerlink" title="修改CFG Lock锁定"></a>修改CFG Lock锁定</h4><p><font color= "#FF0000"  align="center">注意以下只能对AMI芯片BIOS有效，对PHOENIX芯片无效，PHOENIX芯片只能用RU。</font></p><p>重启，在磁盘选项下面有个modGRUBShell的选项，选择此项，显示grub&gt;，输入setup_var_3 0x84，即是查看0x84地址下的信息，为0x1，再输入setup_var_3 0x84 0x0，此命令是将0x84 0x1修改为0x84 0x0，即解除CFG Lock锁定。可以再次输入setup_var_3 0x84检查0x84的信息。下图是解锁后的状况：</p><img src="/2020/02/13/Unlock/index/E4CA4967.png" alt="E4CA4967" style="zoom:50%;" /><p>至此，<code>CFG Lock解锁完毕</code>，用<code>U盘的EFI</code>引导，进Mac，如果正常，就用此EFI替换硬盘的EFI，作为常规的EFI使用！</p><p>如有疑问或不清楚的，可以联系我！！</p>]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> EFI </category>
          
          <category> 台式机 </category>
          
          <category> CFG Lock </category>
          
          <category> 笔记本 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 台式机 </tag>
            
            <tag> OpenCore,EFI </tag>
            
            <tag> CFG Lock </tag>
            
            <tag> 笔记本 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在OpenCore引导菜单添加Windows引导项</title>
      <link href="/2020/02/10/Add-Windows-boot-item-in-OpenCore-boot-menu/index/"/>
      <url>/2020/02/10/Add-Windows-boot-item-in-OpenCore-boot-menu/index/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a><div class="note class\_name info"><p><font color= "#FF0000"  align="center">在OpenCore引导菜单添加Windows引导项</font> </p></div></h2><h3 id="OpenCore配置文件修改"><a href="#OpenCore配置文件修改" class="headerlink" title="OpenCore配置文件修改"></a>OpenCore配置文件修改</h3><p>在<code>Misc</code>-<code>HideSelf</code>去掉勾选</p><p>在<code>Misc</code>-<code>BlessOverride</code>添加<code>\EFI\Microsoft\Boot\bootmgfw.efi</code>，如下图：<a id="more"></a></p><img src="/2020/02/10/Add-Windows-boot-item-in-OpenCore-boot-menu/index/0319D15DE1.jpg" alt="0319D15DE1" style="zoom:50%;" /><h3 id="添加Windows启动文件"><a href="#添加Windows启动文件" class="headerlink" title="添加Windows启动文件"></a>添加Windows启动文件</h3><p>在Windows的引导ESP里面提取引导文件夹包含<code>Microsoft\Boot\bootmgfw.efi</code>放入OpenCore的<code>EFI</code>文件夹里面。</p><p>完成后引导菜单如下图：</p><img src="/2020/02/10/Add-Windows-boot-item-in-OpenCore-boot-menu/index/8E876F436.jpg" alt="8E876F436" style="zoom:50%;" /><p>可以正常引导Windows！！</p><p>希望对大家有帮助！！</p>]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> Windows </category>
          
          <category> 引导项 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> Windows </tag>
            
            <tag> 引导项 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCore-EFI-配置模版(持续更新)</title>
      <link href="/2020/02/07/OpenCore-EFI-configuration-template/index/"/>
      <url>/2020/02/07/OpenCore-EFI-configuration-template/index/</url>
      
        <content type="html"><![CDATA[<h4 id=""><a href="#" class="headerlink" title=""></a><div class="note class\_name info"><p><font color= "#FF0000"  align="center">2020-02-12更新，添加NUC8模版</font> </p></div></h4><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>随着OpenCore日臻完善，将在以后会更多的用于黑苹果的安装。同时，在各位大佬的大力支持与推广，各种入门，进阶教程的推出，OpenCore已经从神界降临到人间。逐渐为普通黑苹果爱好者掌握和使用。OpenCore推出的初衷是简单易用，很多人对于里面的众多的参数的选择还是云里雾里，甚至一头懵逼。鉴于这个情况，独行秀才根据自己安装、使用OpenCore的一些配置，制作几类OpenCore-EFI模版，供广大黑苹果爱好者借鉴、使用。欢迎大家指正，共同完善，谢谢大家！<a id="more"></a></p><h2 id="分类（先简单分类，待以后完善）"><a href="#分类（先简单分类，待以后完善）" class="headerlink" title="分类（先简单分类，待以后完善）"></a>分类<code>（先简单分类，待以后完善）</code></h2><ul><li>台式机</li><li>笔记本</li><li>NUC8</li></ul><h3 id="台式机"><a href="#台式机" class="headerlink" title="台式机"></a>台式机</h3><ul><li>老旧主板台式机（如H61、Z87、Z97等，3～5代U）<code>（待添加）</code></li><li>主流主板台式机（如B360、Z370、Z390等，6代以后的U）下载地址：<a href="https://gitee.com/shuiyunxc/OpenCore-EFI-Template" target="_blank" rel="noopener"><i class="fa fa-download" aria-hidden="true"></i></a></li></ul><h3 id="笔记本"><a href="#笔记本" class="headerlink" title="笔记本"></a>笔记本</h3><ul><li>老旧CPU笔记本（一般是指3代、4代、5代U）<code>（待添加）</code></li><li>主流CPU笔记本（一般是6代以后的U）<code>（待添加）</code></li></ul><h3 id="NUC8"><a href="#NUC8" class="headerlink" title="NUC8"></a>NUC8</h3><p>CPU不同稍作微调即可。下载地址：<a href="https://gitee.com/shuiyunxc/OpenCore-EFI-Template" target="_blank" rel="noopener"><i class="fa fa-download" aria-hidden="true"></i></a></p><h2 id="OpenCore-EFI模版（基于0-5-6）"><a href="#OpenCore-EFI模版（基于0-5-6）" class="headerlink" title="OpenCore-EFI模版（基于0.5.6）"></a>OpenCore-EFI模版（基于0.5.6）</h2><h3 id="模版内容"><a href="#模版内容" class="headerlink" title="模版内容"></a>模版内容</h3><h4 id="OpenCore-EFI基本结构："><a href="#OpenCore-EFI基本结构：" class="headerlink" title="OpenCore-EFI基本结构："></a>OpenCore-EFI基本结构：</h4><img src="/2020/02/07/OpenCore-EFI-configuration-template/index/B2DF0C5.png" alt="B2DF0C5" style="zoom:50%;" /><h4 id="OpenCore-EFI文件夹内容"><a href="#OpenCore-EFI文件夹内容" class="headerlink" title="OpenCore-EFI文件夹内容"></a>OpenCore-EFI文件夹内容</h4><p>BOOT包含BOOTx64.efi-OpenCore引导核心</p><p>OC包含：</p><ul><li>ACPI包含适合自己的DSDT与SSDT</li><li>Drivers包含ApfsDriverLoader.efi、FwRuntimeServices.efi、VBoxHfs.efi等</li><li>Kexts包含适合自己的驱动</li><li>Tools包含modGRUBShell.efi、VerifyMsrE2.efi、CleanNvram.efi、Shell.efi等</li><li>config.plist-OpenCore配置文件</li><li>OpenCore.efi-OpenCore引导核心</li></ul><h3 id="反馈与完善"><a href="#反馈与完善" class="headerlink" title="反馈与完善"></a>反馈与完善</h3><p>大家在使用模版的过程中，如果遇到问题，请截图，并与我联系，大家一起共同来解决问题，，来完善、充实OpenCore-EFI-配置模版。</p><h3 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h3><p>2020-02-12：添加NUC8模版</p><p>2020-02-06：第一版</p><h3 id="附：从码云下载文件"><a href="#附：从码云下载文件" class="headerlink" title="附：从码云下载文件"></a>附：从码云下载文件</h3><p>下载到新建文件夹或已有文件夹，点击上面链接，进到码云，点击`发行版本，如下图：</p> <img src="/uploads/7C043E836B.jpg" alt="7C043E836B" style="zoom:50%;" /><p>选取你需要的版本下载</p><img src="/uploads/55F9523A.jpg" alt="55F9523A" style="zoom:50%;" /> ]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT</title>
      <link href="/2020/02/03/Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT/index/"/>
      <url>/2020/02/03/Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT/index/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a><div class="note class\_name info"><p><font color= "#FF0000"  align="center">技嘉 Z390-GAMING-X-i5-9600KF-EFI已更新至OC-056</font> </p></div></h2><h2 id="配置情况"><a href="#配置情况" class="headerlink" title="配置情况"></a>配置情况</h2><ul><li><p>主板：技嘉 Z390-GAMING-X</p></li><li><p>CPU：i5-9600KF</p></li><li><p>内存：32G</p></li><li><p>独立显卡：蓝宝石 Rx 5500 XT</p></li><li><p>有线网卡：i219V7</p></li><li><p>无线网卡：BCM943602CS<a id="more"></a></p></li></ul><h2 id="BIOS设置"><a href="#BIOS设置" class="headerlink" title="BIOS设置"></a>BIOS设置</h2><ul><li><p>BIOS版本：F9</p></li><li><p>Advanced CPU Settings → VT-d → Disabled</p></li><li><p>Extreme Memory Profile (X.M.P.) → Profile 1</p></li><li><p>Internal Graphics → Enabled</p></li><li><p>Above 4G Decoding → Enabled</p></li><li><p>XHCI Handoff → Enabled</p></li><li><p>Windows 8/10 Features → Other OS</p></li><li><p>CSM Support → Disabled</p></li></ul><h2 id="安装版本"><a href="#安装版本" class="headerlink" title="安装版本"></a>安装版本</h2><p>Catalina10.15.3(19D76)</p><h2 id="OpenCore版本"><a href="#OpenCore版本" class="headerlink" title="OpenCore版本"></a>OpenCore版本</h2><p>OpenCore-0.5.5-RELEASE</p><h2 id="工作状况"><a href="#工作状况" class="headerlink" title="工作状况"></a>工作状况</h2><h3 id="正常工作："><a href="#正常工作：" class="headerlink" title="正常工作："></a>正常工作：</h3><ul><li>显卡：正常。</li><li>声卡：板载声卡及HDMI正常。</li><li>USB：USB3.0/2.0可以正常识别使用。</li><li>变频：正常。</li><li>无线：搜索正常，连接5G/2.4G正常。</li><li>蓝牙：连接蓝牙耳机/音箱正常，无延迟、爆音、杂音，连接蓝牙鼠标正常，无漂移。</li><li>有线网卡：正常</li></ul><h3 id="截图："><a href="#截图：" class="headerlink" title="截图："></a>截图：</h3><table><thead><tr><th align="center">项目</th><th align="center">截图</th></tr></thead><tbody><tr><td align="center">关于本机</td><td align="center"><img src="/uploads/Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT/8DE491C28.png" style="zoom:50%;" align='left'/></td></tr><tr><td align="center">显卡</td><td align="center"><img src="/uploads/Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT/2CC66C9D30F.png" style="zoom:40%;" align='left'/></td></tr><tr><td align="center">USB</td><td align="center"><img src="/uploads/Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT/B0609F71D8.png" alt="632DE5" style="zoom:40%;" align='left'/></td></tr><tr><td align="center">有线网卡</td><td align="center"><img src="/uploads/Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT/71EB3D60A6.png" style="zoom:40%;" align='left'/></td></tr><tr><td align="center">蓝牙</td><td align="center"><img src="/uploads/Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT/402C12D14.png" alt="96A06" style="zoom:40%;" align='left'/></td></tr></tbody></table><h2 id="其他："><a href="#其他：" class="headerlink" title="其他："></a>其他：</h2><p>更新日志：</p><p>时间：2020-02-05第二版 EFI更新至OC-056</p><p>时间：2020-02-03第一版</p><h2 id="下载："><a href="#下载：" class="headerlink" title="下载："></a>下载：</h2><p>下载地址：<a href="https://gitee.com/shuiyunxc/Gigabyte-Z390-GAMING-X-i5-9600KF-RX5500XT" target="_blank" rel="noopener"><i class="fa fa-download" aria-hidden="true"></i></a></p><h3 id="附：从码云下载文件"><a href="#附：从码云下载文件" class="headerlink" title="附：从码云下载文件"></a>附：从码云下载文件</h3><p>下载到新建文件夹或已有文件夹，点击上面链接，进到码云，点击`发行版本，如下图：</p> <img src="/uploads/7C043E836B.jpg" alt="7C043E836B" style="zoom:50%;" /><p>选取你需要的版本下载</p><img src="/uploads/55F9523A.jpg" alt="55F9523A" style="zoom:50%;" /> ]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> EFI </category>
          
          <category> 台式机 </category>
          
          <category> Z390 </category>
          
          <category> 技嘉 </category>
          
          <category> Rx 5500XT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> EFI </tag>
            
            <tag> 台式机 </tag>
            
            <tag> 技嘉 </tag>
            
            <tag> Z390 </tag>
            
            <tag> Rx 5500XT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>lenovo-R720-15IKBN-OC-055-20200131</title>
      <link href="/2020/02/01/lenovo-R720-15IKBN-OC-055-20200131/index/"/>
      <url>/2020/02/01/lenovo-R720-15IKBN-OC-055-20200131/index/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a><div class="note class_name info"><p><font color= "#FF0000"  align="center">联想拯救者 R720-15IKBN-EFI已经更新至OpenCore-0.5.6</font></font> </p></div></h2><h2 id="配置情况"><a href="#配置情况" class="headerlink" title="配置情况"></a>配置情况</h2><ul><li>CPU：i7-7700HQ</li><li>内存：16G</li><li>独立显卡：NVIDIA Geforce GTX 1050（黑苹果无视）</li><li>集成显卡：Intel HD Graphics 630</li><li>无线网卡：DW1820A</li><li>有线网卡：瑞昱 RTL8168/8111/8112<a id="more"></a></li></ul><h2 id="安装版本"><a href="#安装版本" class="headerlink" title="安装版本"></a>安装版本</h2><p>Catalina10.15.3(19D76)</p><h2 id="OpenCore版本"><a href="#OpenCore版本" class="headerlink" title="OpenCore版本"></a>OpenCore版本</h2><p>OpenCore-0.5.5-RELEASE</p><h2 id="工作状况"><a href="#工作状况" class="headerlink" title="工作状况"></a>工作状况</h2><h3 id="正常工作："><a href="#正常工作：" class="headerlink" title="正常工作："></a>正常工作：</h3><ul><li>集显：正常（可以一键HiDPi）。</li><li>声卡：使用<code>AppleALC+Lilu</code>原生驱动，注入Layout ID: 28（<code>1C000000</code> ），完美支持Tpye-C耳机、3.5耳机、外放。</li><li>功能键：声音、亮度可以调节，小键盘正常使用。（亮度需要在<code>系统偏好设置</code>–&gt;<code>键盘</code>–&gt;<code>快捷键</code>–&gt;<code>显示器</code>中调节）</li><li>触控板：完美多指触控。</li><li>USB：USB3.0/2.0可以正常识别使用。</li><li>HDMI：外接HDMI正常，在使用<code>MacBookPro11,2</code>机型有HDMI声音，其他机型（如MacBookPro13,1、MacBookPro14,3等）无HDMI声音。</li><li>变频：正常。</li><li>无线：搜索正常，连接5G/2.4G正常。</li><li>蓝牙：连接蓝牙耳机/音箱正常，无延迟、爆音、杂音，连接蓝牙鼠标正常，无漂移。</li><li>休眠：可以合盖、开盖正常。</li><li>有线网卡：正常</li></ul><h3 id="异常情况："><a href="#异常情况：" class="headerlink" title="异常情况："></a>异常情况：</h3><ul><li>睡眠：不正常。待以后解决。</li><li>独立显卡：可以显示，无法使用。</li></ul><h3 id="其他："><a href="#其他：" class="headerlink" title="其他："></a>其他：</h3><p>更新时间：2020-01-31</p><h3 id="下载："><a href="#下载：" class="headerlink" title="下载："></a>下载：</h3><p><a href="https://gitee.com/shuiyunxc/lenovo-R720-15IKBN-OC-055-20200131" target="_blank" rel="noopener"><i class="fa fa-download" aria-hidden="true"></i></a></p><h3 id="附：从码云下载文件"><a href="#附：从码云下载文件" class="headerlink" title="附：从码云下载文件"></a>附：从码云下载文件</h3><p>下载到新建文件夹或已有文件夹，点击上面链接，进到码云，点击`发行版本，如下图：</p> <img src="/uploads/7C043E836B.jpg" alt="7C043E836B" style="zoom:50%;" /><p>选取你需要的版本下载</p><img src="/uploads/55F9523A.jpg" alt="55F9523A" style="zoom:50%;" /> ]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> EFI </category>
          
          <category> Lenovo </category>
          
          <category> 笔记本 </category>
          
          <category> 联想 </category>
          
          <category> 集显 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> EFI </tag>
            
            <tag> 笔记本 </tag>
            
            <tag> Lenovo </tag>
            
            <tag> 集显 </tag>
            
            <tag> HD 630 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055</title>
      <link href="/2020/01/28/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055/"/>
      <url>/2020/01/28/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a><div class="note class\_name info"><p><font color= "#FF0000"  align="center">EFI已更新至OpenCore-0.5.6</font> </p></div></h2><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>主板：ASRock-Z370m-Pro4</p><p>CPU：i3-8350K</p><p>显卡：蓝宝石 Rx5500XT 8G</p><p>内存：海盗船 8GX2</p><a id="more"></a><h2 id="BIOS设置"><a href="#BIOS设置" class="headerlink" title="BIOS设置"></a>BIOS设置</h2><p>BIOS版本：4.20</p><p>DRAM → XMP</p><p>高级-CPU配置-CFG Lock → 禁用</p><p>高级-芯片组配置-Above 4G  Decoding → 启用</p><p>高级-芯片组配置-共享内存 → 256M</p><p>高级-芯片组配置-板载显卡多显示器支持 → 启用</p><p>高级-USB配置-XHCI Hand-off → 启用 </p><p>引导-快速启动 → 禁用</p><p>引导-CMS → 禁用</p><p>F10 → 保存</p><h2 id="工作状况"><a href="#工作状况" class="headerlink" title="工作状况"></a>工作状况</h2><p>独显：正常 （5K+4K双屏）</p><p>集显：加速正常</p><p>声卡：正常(Realtek ALC892) </p><p>无线：正常（BCM94331CD）</p><p>蓝牙：正常 （BCM94331CD）</p><p>随航：正常</p><p>关机/重启：正常</p><p>睡眠：正常</p><h2 id="驱动-机型"><a href="#驱动-机型" class="headerlink" title="驱动/机型"></a>驱动/机型</h2><p>核心：采用FakeSMC.kext/VirtualSMC.kext均可。</p><p>网卡：AirportBrcmFixup.kext/版本2.0.4</p><p>USB：定制</p><p>ALC：AppleALC.kext/版本1.4.3</p><p>Lilu：Lilu.kext/版本1.3.9</p><p>WhateverGreen：WhateverGreen.kext/版本1.3.5</p><p>机型：iMacPro1.1/iMac19.1均可</p><h1 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h1><table><thead><tr><th align="left">项目</th><th align="left">图片</th></tr></thead><tbody><tr><td align="left">关于本机</td><td align="left"><img src="/2020/01/28/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055/D902351D.png" alt="D902351D" style="zoom:50%;" /></td></tr><tr><td align="left">显卡</td><td align="left"><img src="/2020/01/28/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055/3604126D9.png" alt="3604126D9" style="zoom:28%;" /></td></tr><tr><td align="left">PCI</td><td align="left"><img src="/2020/01/28/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055/713151589C.png" alt="713151589C" style="zoom:28%;" /></td></tr><tr><td align="left">双屏</td><td align="left"><img src="/2020/01/28/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055/3A3579E.png" alt="3A3579E" style="zoom:50%;" /></td></tr><tr><td align="left">音频</td><td align="left"><img src="/2020/01/28/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055/45ECA28FCF.png" alt="45ECA28FCF" style="zoom:28%;" /></td></tr><tr><td align="left">集显加速</td><td align="left"><img src="/2020/01/28/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055/DF808C078F.jpg" alt="DF808C078F" style="zoom:40%;" /></td></tr></tbody></table><h2 id="下载："><a href="#下载：" class="headerlink" title="下载："></a>下载：</h2><p>OC-EFI<a href="https://gitee.com/shuiyunxc/ASRock-Z370m-Pro4-i3-8350K-Rx5500XT-OC-055" target="_blank" rel="noopener"><i class="fa fa-download" aria-hidden="true"></i></a></p><p><strong>已升级为0.5.6</strong></p><h3 id="附：从码云下载文件"><a href="#附：从码云下载文件" class="headerlink" title="附：从码云下载文件"></a>附：从码云下载文件</h3><p>下载到新建文件夹或已有文件夹，点击上面链接，进到码云，点击`发行版本，如下图：</p> <img src="/uploads/7C043E836B.jpg" alt="7C043E836B" style="zoom:50%;" /><p>选取你需要的版本下载</p><img src="/uploads/55F9523A.jpg" alt="55F9523A" style="zoom:50%;" /> ]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> ASRock </category>
          
          <category> EFI </category>
          
          <category> Rx5500XT </category>
          
          <category> 台式机 </category>
          
          <category> 华擎 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ASRock </tag>
            
            <tag> 华擎 </tag>
            
            <tag> OpenCore </tag>
            
            <tag> EFI </tag>
            
            <tag> 台式机 </tag>
            
            <tag> Rx5500XT </tag>
            
            <tag> Z370 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GIGABYTE-Z390M-GAMING-8700-Rx560</title>
      <link href="/2020/01/28/GIGABYTE-Z390M-GAMING-8700-Rx560/"/>
      <url>/2020/01/28/GIGABYTE-Z390M-GAMING-8700-Rx560/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a><div class="note class\_name info"><p><font color= "#FF0000"  align="center">技嘉 GIGABYTE-Z390M-GAMING-8700-Rx560-EFI</font> </p></div></h2><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>主板：技嘉 Z390M GAMING</p><p>CPU：i 7 8700</p><p>显卡：Rx560</p><p>无线网卡：BCM94360</p><a id="more"></a><h2 id="BIOS设置"><a href="#BIOS设置" class="headerlink" title="BIOS设置"></a>BIOS设置</h2><p>BIOS版本：F8</p><p>Advanced CPU Settings → VT-d → Disabled</p><p>Extreme Memory Profile (X.M.P.) → Profile 1</p><p>Internal Graphics → Enabled</p><p>Above 4G Decoding → Enabled</p><p>XHCI Handoff → Enabled</p><p>Windows 8/10 Features → Other OS</p><p>CSM Support → Disabled</p><h2 id="完成截图"><a href="#完成截图" class="headerlink" title="完成截图"></a>完成截图</h2><table><thead><tr><th align="center">项目</th><th align="center">图片</th></tr></thead><tbody><tr><td align="center">关于本机</td><td align="center"><img src="/uploads/GIGABYTE-Z390M-GAMING-i7-8700-Rx560/7A6B794F.png" alt="7A6B794F" style="zoom:50%;" /></td></tr><tr><td align="center">显卡</td><td align="center"><img src="/uploads/GIGABYTE-Z390M-GAMING-i7-8700-Rx560/2A51AFDE.png" alt="2A51AFDE" style="zoom:40%;" /></td></tr><tr><td align="center">蓝牙</td><td align="center"><img src="/uploads/GIGABYTE-Z390M-GAMING-i7-8700-Rx560/C410B582.png" alt="C410B582" style="zoom:40%;" /></td></tr><tr><td align="center">USB</td><td align="center"><img src="/uploads/GIGABYTE-Z390M-GAMING-i7-8700-Rx560/6299D378.png" alt="6299D378" style="zoom:40%;" /></td></tr><tr><td align="center">无线</td><td align="center"><img src="/uploads/GIGABYTE-Z390M-GAMING-i7-8700-Rx560/42720F95.png" alt="42720F95" style="zoom:40%;" /></td></tr><tr><td align="center">无线网卡</td><td align="center"><img src="/uploads/GIGABYTE-Z390M-GAMING-i7-8700-Rx560/WangWang20200127223509.jpg" alt="WangWang20200127223509" style="zoom:50%;" /></td></tr><tr><td align="center">随航</td><td align="center"><img src="/uploads/GIGABYTE-Z390M-GAMING-i7-8700-Rx560/WangWang202.jpg" alt="WangWang202" style="zoom:20%;" /></td></tr></tbody></table><h2 id="EFI"><a href="#EFI" class="headerlink" title="EFI"></a>EFI</h2><p>EFI下载：<a href="https://gitee.com/shuiyunxc/GIGABYTE-Z390M-GAMING-i7-8700-Rx560" target="_blank" rel="noopener"><i class="fa fa-download" aria-hidden="true"></i></a></p><h3 id="附：从码云下载文件"><a href="#附：从码云下载文件" class="headerlink" title="附：从码云下载文件"></a>附：从码云下载文件</h3><p>下载到新建文件夹或已有文件夹，点击上面链接，进到码云，点击`发行版本，如下图：</p> <img src="/uploads/7C043E836B.jpg" alt="7C043E836B" style="zoom:50%;" /><p>选取你需要的版本下载</p><img src="/uploads/55F9523A.jpg" alt="55F9523A" style="zoom:50%;" /> ]]></content>
      
      
      <categories>
          
          <category> Clover </category>
          
          <category> 技嘉 </category>
          
          <category> EFI </category>
          
          <category> 台式机 </category>
          
          <category> Z390 </category>
          
          <category> Rx560 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EFI </tag>
            
            <tag> 台式机 </tag>
            
            <tag> Clover </tag>
            
            <tag> 技嘉 </tag>
            
            <tag> Z390 </tag>
            
            <tag> Rx560 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCore配置视频第二版</title>
      <link href="/2020/01/27/OpenCore-configuration-video-version-2/"/>
      <url>/2020/01/27/OpenCore-configuration-video-version-2/</url>
      
        <content type="html"><![CDATA[<h1 id="OpenCore配置视频第二版之一-二-三-四"><a href="#OpenCore配置视频第二版之一-二-三-四" class="headerlink" title="OpenCore配置视频第二版之一/二/三/四"></a>OpenCore配置视频第二版之一/二/三/四</h1><p>​    应很多网友的建议，将OpenCore配置视频第一版整段24分钟的视频，分为若干个5分钟左右的短视频，这样，看起来不累，同时增补了第一版缺失的部分，以及055新增的内容。将OpenCore配置视频第一版精简、截断、优化为四个部分，以下是<strong>OpenCore配置视频第二版</strong>第一、二、三、四部分：</p><h2 id="OpenCore配置视频第二版之一："><a href="#OpenCore配置视频第二版之一：" class="headerlink" title="OpenCore配置视频第二版之一："></a>OpenCore配置视频第二版之一：</h2><p>视频地址：<a href="https://www.bilibili.com/video/av85050197/" target="_blank" rel="noopener">https://www.bilibili.com/video/av85050197/</a> <a id="more"></a></p><iframe height=498 width=510src="https://player.bilibili.com/player.html?aid=85050197"frameborder=0 allowfullscreen></iframe> <h2 id="OpenCore配置视频第二版之二："><a href="#OpenCore配置视频第二版之二：" class="headerlink" title="OpenCore配置视频第二版之二："></a>OpenCore配置视频第二版之二：</h2><p>视频地址：<a href="https://www.bilibili.com/video/av85050197/" target="_blank" rel="noopener">https://www.bilibili.com/video/av85050197/?p=2</a></p><h2 id="OpenCore配置视频第二版之三："><a href="#OpenCore配置视频第二版之三：" class="headerlink" title="OpenCore配置视频第二版之三："></a>OpenCore配置视频第二版之三：</h2><p>视频地址：<a href="https://www.bilibili.com/video/av85050197/" target="_blank" rel="noopener">https://www.bilibili.com/video/av85050197/?p=3</a></p><h2 id="OpenCore配置视频第二版之四："><a href="#OpenCore配置视频第二版之四：" class="headerlink" title="OpenCore配置视频第二版之四："></a>OpenCore配置视频第二版之四：</h2><p>视频地址：<a href="https://www.bilibili.com/video/av85050197/" target="_blank" rel="noopener">https://www.bilibili.com/video/av85050197/?p=4</a></p><h2 id="从Clover配置转换为OpenCore配置短视频："><a href="#从Clover配置转换为OpenCore配置短视频：" class="headerlink" title="从Clover配置转换为OpenCore配置短视频："></a>从Clover配置转换为OpenCore配置短视频：</h2><p>视频地址：<a href="https://www.bilibili.com/video/av85050197/" target="_blank" rel="noopener">https://www.bilibili.com/video/av84961867/</a></p><h2 id="Clover环境下导出的设备PCI转换为OpenCore可用的设备PCI"><a href="#Clover环境下导出的设备PCI转换为OpenCore可用的设备PCI" class="headerlink" title="Clover环境下导出的设备PCI转换为OpenCore可用的设备PCI"></a>Clover环境下导出的设备PCI转换为OpenCore可用的设备PCI</h2><p>视频地址：<a href="https://www.bilibili.com/video/av85050197/" target="_blank" rel="noopener">https://www.bilibili.com/video/av84962156/</a></p>]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> video </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCore配置视频文字说明</title>
      <link href="/2020/01/22/OpenCore-configuration-video-text-description/"/>
      <url>/2020/01/22/OpenCore-configuration-video-text-description/</url>
      
        <content type="html"><![CDATA[<h1 id="OpenCore配置视频文字说明-基于OpenCore-0-5-6-2020-02-05更新"><a href="#OpenCore配置视频文字说明-基于OpenCore-0-5-6-2020-02-05更新" class="headerlink" title="OpenCore配置视频文字说明-基于OpenCore-0.5.6-2020-02-05更新"></a>OpenCore配置视频文字说明-基于OpenCore-0.5.6-2020-02-05更新</h1><p>​      做这个视频，一天的剧本文字编辑，2个小时录屏，1天准备素材、插件，一天简单剪辑，昨晚压制的第一版，如有什么不妥或版权问题，及时联系我，以做相应删减或调整。    </p><h2 id="视频地址："><a href="#视频地址：" class="headerlink" title="视频地址："></a>视频地址：</h2><p>B站地址：<a href="https://www.bilibili.com/video/av83477527/" target="_blank" rel="noopener">https://www.bilibili.com/video/av83477527/</a><a id="more"></a></p><iframe height=498 width=510src="https://player.bilibili.com/player.html?aid=83477527"frameborder=0 allowfullscreen></iframe>        <image-https://ss.csdn.net/p?http://i0.hdslb.com/bfs/archive/c0f563327f12c09e29e2c2fd1a4a0d134582e7ae.jpg)(title-OC初级配置视频)]<h2 id=""><a href="#" class="headerlink" title=""></a><div class="note class\_name info"><p><font color= "#FF0000"  align="center">视频中用到的文本：</font> </p></div></h2><h2 id="OpenCore配置视频讲解文本"><a href="#OpenCore配置视频讲解文本" class="headerlink" title="OpenCore配置视频讲解文本"></a>OpenCore配置视频讲解文本</h2><h3 id="一、-OpenCore配置的基本条件与工具软件"><a href="#一、-OpenCore配置的基本条件与工具软件" class="headerlink" title="一、    OpenCore配置的基本条件与工具软件"></a>一、    OpenCore配置的基本条件与工具软件</h3><h4 id="1-1、-Clover能正确引导，系统各种功能基本正常（关机-重启正常等）。"><a href="#1-1、-Clover能正确引导，系统各种功能基本正常（关机-重启正常等）。" class="headerlink" title="1.1、    Clover能正确引导，系统各种功能基本正常（关机/重启正常等）。"></a>1.1、    Clover能正确引导，系统各种功能基本正常（关机/重启正常等）。</h4><h4 id="1-2、-已完成USB定制，且定制正确。"><a href="#1-2、-已完成USB定制，且定制正确。" class="headerlink" title="1.2、    已完成USB定制，且定制正确。"></a>1.2、    已完成USB定制，且定制正确。</h4><h4 id="1-3、-工具软件："><a href="#1-3、-工具软件：" class="headerlink" title="1.3、    工具软件："></a>1.3、    工具软件：</h4><pre><code>a.Clover Configurator（Clover配置工具），b. OpenCore Configurator（OC配置工具），c. Hackintool（综合工具），d. PlistEdit Pro（Plist文件工具），e. IORegistryExplorer（路径工具），f. BetterZip（解压软件）。  </code></pre><h4 id="1-4、工具软件下载："><a href="#1-4、工具软件下载：" class="headerlink" title="1.4、工具软件下载："></a>1.4、工具软件下载：</h4><pre><code>https://pan.baidu.com/s/1Pz7z-KDsaohf7vIzGqo7Bg  密码:ybun </code></pre><h4 id="1-5、基本流程："><a href="#1-5、基本流程：" class="headerlink" title="1.5、基本流程："></a>1.5、基本流程：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">st&#x3D;&gt;start: 准备配置</span><br><span class="line">op&#x3D;&gt;operation: 检查Clover-EFI</span><br><span class="line">op0&#x3D;&gt;operation: 调整Clover-EFI</span><br><span class="line">cond&#x3D;&gt;condition: Clover-EFI</span><br><span class="line">是否正常使</span><br><span class="line">用？</span><br><span class="line">sub&#x3D;&gt;subroutine: 去调试Clover</span><br><span class="line">op1&#x3D;&gt;operation: 桌面建立OC-EFI</span><br><span class="line">cond1&#x3D;&gt;condition: 是否USB定制？</span><br><span class="line">sub1&#x3D;&gt;subroutine: 去定制</span><br><span class="line">op2&#x3D;&gt;operation: Clover-EFI放到桌面</span><br><span class="line">op3&#x3D;&gt;operation: 开始配置OC-EFI</span><br><span class="line">op4&#x3D;&gt;operation: 调整OC-EFI</span><br><span class="line">cond2&#x3D;&gt;condition: OC-EFI是否正常？</span><br><span class="line">sub2&#x3D;&gt;subroutine: 去调试OC</span><br><span class="line">io&#x3D;&gt;inputoutput: 收尾整理</span><br><span class="line">e&#x3D;&gt;end: 配置完成</span><br><span class="line">st-&gt;op-&gt;op0-&gt;cond</span><br><span class="line">cond(no,left)-&gt;sub(left)-&gt;op0</span><br><span class="line">cond(yes)-&gt;cond1</span><br><span class="line">cond1(no)-&gt;sub1-&gt;op2</span><br><span class="line">cond1(yes)-&gt;op2-&gt;op3-&gt;op4-&gt;cond2</span><br><span class="line">cond2(no)-&gt;sub2(right)-&gt;op4</span><br><span class="line">cond2(yes)-&gt;io-&gt;e</span><br></pre></td></tr></table></figure><h3 id="二、-配置准备："><a href="#二、-配置准备：" class="headerlink" title="二、    配置准备："></a>二、    配置准备：</h3><h4 id="2-1、-Clover-EFI包"><a href="#2-1、-Clover-EFI包" class="headerlink" title="2.1、    Clover-EFI包"></a>2.1、    Clover-EFI包</h4><p>将自己正常使用的Clover的EFI拷贝到桌面，并改名为Clover-EFI，便于识别。</p><h4 id="2-2、OpenCore-EFI包"><a href="#2-2、OpenCore-EFI包" class="headerlink" title="2.2、OpenCore-EFI包"></a>2.2、OpenCore-EFI包</h4><p>下载0.5.4/0.5.5/0.5.6-OpenCore包，（链接:<a href="https://github.com/acidanthera/OpenCorePkg）" target="_blank" rel="noopener">https://github.com/acidanthera/OpenCorePkg）</a></p><p>放到桌面。里面包含Docs/Utilities后面将会用到。并改名为OC-EFI，便于识别。</p><h4 id="2-3、ACPI文件转移"><a href="#2-3、ACPI文件转移" class="headerlink" title="2.3、ACPI文件转移"></a>2.3、ACPI文件转移</h4><p>将<code>Clover-EFI</code>- <code>CLOVER</code> -<code>ACPI</code>-<code>patched</code>里面你用的DSDT/SSDT全部拷贝到<code>OC-EFI</code>-<code>OC</code>-<code>ACPI</code>里面。</p><h4 id="2-4、-efi文件转移"><a href="#2-4、-efi文件转移" class="headerlink" title="2.4、.efi文件转移"></a>2.4、.efi文件转移</h4><p>将<code>Clover-EFI</code>-<code>CLOVER</code>- <code>drivers</code>- <code>UEFI</code>里面用的所有.efi文件全部拷贝到<code>OC-EFI</code>-<code>OC</code>- <code>Drivers</code>里面，注意OC必须有FwRuntimeServices.efi（一般下载包里面都有）。OC用的的.efi文件不多，拷贝进去的可能很多用不上，正常引导后，删除用不到的.efi。</p><h4 id="2-5、驱动转移"><a href="#2-5、驱动转移" class="headerlink" title="2.5、驱动转移"></a>2.5、驱动转移</h4><p>将<code>Clover-EFI</code>-<code>CLOVER</code>-<code>kexts</code>-<code>Other</code>里面所有驱动全部拷贝到<code>OC-EFI</code>-<code>OC</code>- <code>Kexts</code>里面。</p><h4 id="2-6、config-plist文件"><a href="#2-6、config-plist文件" class="headerlink" title="2.6、config.plist文件"></a>2.6、config.plist文件</h4><p>将OC包/Docs里面的范例Sample.plist或SampleFull.plist之一拷贝到OC-EFI-OC里面，并改名为config.plist。</p><h4 id="2-7、config-plist文件处理"><a href="#2-7、config-plist文件处理" class="headerlink" title="2.7、config.plist文件处理"></a>2.7、config.plist文件处理</h4><p>分别用相应的配置工具打开Clover-config.plist与OC-config.plist。</p><h4 id="2-8、OpenCore基本结构："><a href="#2-8、OpenCore基本结构：" class="headerlink" title="2.8、OpenCore基本结构："></a>2.8、OpenCore基本结构：</h4><img src="/uploads/F3708612.png" alt="F3708612" style="zoom:50%;" /><h3 id="三、-开始配置OpenCore-config-plist"><a href="#三、-开始配置OpenCore-config-plist" class="headerlink" title="三、    开始配置OpenCore-config.plist"></a>三、    开始配置OpenCore-config.plist</h3><h4 id="3-1、Config-ACPI设置："><a href="#3-1、Config-ACPI设置：" class="headerlink" title="3.1、Config-ACPI设置："></a>3.1、Config-ACPI设置：</h4><h5 id="3-1-1、config-ACPI-添加："><a href="#3-1-1、config-ACPI-添加：" class="headerlink" title="3.1.1、config-ACPI-添加："></a>3.1.1、config-ACPI-添加：</h5><p>先删除范例里面所有DSDT/SSDT，点浏览，到OC-EFI/OC/ACPI，选取所有你使用的DSDT/SSDT。（我的建议是，特别是台式机，能不用DSDT/SSDT的，就不要用，除非你精通且清楚DSDT/SSDT的作用！）</p><h5 id="3-1-2、config-ACPI-阻止："><a href="#3-1-2、config-ACPI-阻止：" class="headerlink" title="3.1.2、config-ACPI-阻止："></a>3.1.2、config-ACPI-阻止：</h5><p>对应Clover-ACPI-Drop Tables，除非你明白确切意义，一般不用。</p><h5 id="3-1-3、config-ACPI-补丁："><a href="#3-1-3、config-ACPI-补丁：" class="headerlink" title="3.1.3、config-ACPI-补丁："></a>3.1.3、config-ACPI-补丁：</h5><p>对应Clover-ACPI-补丁，用于热补丁，可以用OpenCore Configurator-工具-配置转换器，将Clover-config.plist转换为OC-config.plist（临时），用拷贝-复制的方式很方便的将Clover-config.plist补丁添加到OC-config.plist里面，如果热补丁过多，而你又不知道确切作用，建议你，逐个调试删除，保留最少的、必要的热补丁。具体补丁包可以查看宪武大神做的OC-Little补丁包（链接:<a href="https://pan.baidu.com/s/1vuhjE_oTE5RvVpNWddRqhA" target="_blank" rel="noopener">https://pan.baidu.com/s/1vuhjE_oTE5RvVpNWddRqhA</a>  密码:2h6z）。<br>下面是10.15.x常用的2个补丁：<br>更改控制器EC0名称</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Comment：EC0 to EC</span><br><span class="line">Find：4543305F </span><br><span class="line">Replace：45435F5F </span><br></pre></td></tr></table></figure></blockquote><p>解决RTC问题：</p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Comment：Fix AsRock Z390 BIOS DSDT Device(RTC) bug</span><br><span class="line">Find：A00A9353 54415301 </span><br><span class="line">Replace：A00A910A FF0BFFFF </span><br></pre></td></tr></table></figure></blockquote><h5 id="3-1-4、config-ACPI-Quirks："><a href="#3-1-4、config-ACPI-Quirks：" class="headerlink" title="3.1.4、config-ACPI-Quirks："></a>3.1.4、config-ACPI-Quirks：</h5><ul><li>FadtEnableReset：主要用于老旧主板的开关机功能，如果你关机变重启，可以勾选，一般情况下<code>==不勾选==</code>。</li><li>ReseHwSig：与休眠有关的选项，台式机一般不用，<code>==不勾选==</code></li><li>NormalizeHeaders：清理ACPI头，一般<code>==勾选==</code>，如果有相应的热补丁，试试不勾选。</li><li>RebaseRegions：更换硬件或升级BIOS可能对ACPI产生影响，一般<code>==不勾选==</code>。如果遇到卡PCI Configuration Begin，就勾选试试。</li><li>Resetlogstatus：重置日志，一般<code>==不勾选==</code>。</li></ul><p><img src="https://img-blog.csdnimg.cn/20200118130336264.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NodWl5dW54Yw==,size_16,color_FFFFFF,t_70" alt="config-ACPI-Quirks配置"></p><table><thead><tr><th>Quirks</th><th>选项</th><th align="left">解释</th></tr></thead><tbody><tr><td>FadtEnableReset</td><td><code>不勾选</code></td><td align="left">主要用于老旧主板的开关机功能，如果你关机变重启，可以勾选</td></tr><tr><td>ReseHwSig</td><td><code>不勾选</code></td><td align="left">与休眠有关的选项</td></tr><tr><td>NormalizeHeaders</td><td><code>勾选</code></td><td align="left">清理ACPI头，一般勾选，如果有相应的热补丁，试试不勾选</td></tr><tr><td>RebaseRegions</td><td><code>不勾选</code></td><td align="left">更换硬件或升级BIOS可能对ACPI产生影响。遇到卡PCI Configuration Begin，就勾选试试。</td></tr><tr><td>Resetlogstatus</td><td><code>不勾选</code></td><td align="left">重置日志</td></tr></tbody></table><h4 id="3-2、Config-Booter设置"><a href="#3-2、Config-Booter设置" class="headerlink" title="3.2、Config-Booter设置"></a>3.2、Config-Booter设置</h4><h5 id="3-2-1、config-Booter-MmioWhitelist（内存映射IO白名单）"><a href="#3-2-1、config-Booter-MmioWhitelist（内存映射IO白名单）" class="headerlink" title="3.2.1、config-Booter-MmioWhitelist（内存映射IO白名单）"></a>3.2.1、config-Booter-MmioWhitelist（内存映射IO白名单）</h5><p>默认第一项是为<code>==Haswell芯片==</code>提供内存寻址修复，此类芯片如果遇到内存相关问题，就勾选启用。 默认第二项是开机卡PCI Configuration。ACPI、PCI device同时释放到内存时发生0x1000内存地址被占用而卡在PCI Configuration，则勾选，否则无视！</p><h5 id="3-2-2、config-Booter-Quirks："><a href="#3-2-2、config-Booter-Quirks：" class="headerlink" title="3.2.2、config-Booter-Quirks："></a>3.2.2、config-Booter-Quirks：</h5><p>此设置与FwRuntimeServices.efi有密切关系，FwRuntimeServices.efi将一些功能与OC合并、模块化。对于Z390等无法原生nvram的主板来说，此处的选项需要格外关注！</p><ul><li>AvoidRuntimeDefrag：绝大部分UEFI都会写入时间、电源管理等信息，只要是黑苹果，此项必须<code>==勾选==</code>。</li><li>DevirtualiseMmio：一般情况下，采用slide=1的方式进行连续性内存注入，故一般<code>==不勾选==</code>，除非你的机器用了KASLR方式。（台式机基本没有）。</li><li>DisableSingleUser：是否开启单用户模式（-s）。一般<code>==不勾选==</code>。</li><li>DisableVariableWrite：非原生nvram主板需要模拟nvram.plist写入variable值，所以<code>==非原生nvram主板==必须==勾选==</code>，<code>==原生nvram==主板则==不勾选==</code>。</li><li>DiscardHibernateMap：这个选项帮助我们解决下面的冲突：当电脑从休眠中唤醒时，硬盘里面的资料会恢复到内存中去，此时OC内核以及内核缓存也要写入，二者可能产生冲突。就目前而言，台式机无视休眠功能，故，<code>==不勾选==</code>！</li><li>EnableSafeModeSlide：安全模式下（-x）是否用连续性的内存注入方式，一般<code>==勾选==</code>。</li><li>EnableWriteUnprotector：保证nvram能正常写入，而不受UEFI内的一些服务影响，故，都需要<code>==勾选==</code>。</li><li>ForceExitBootServices：为让老旧主板也能使用内存寻址，正常情况下，<code>==不勾选==</code>，除非你的额主板很老很旧。至于何为老旧主板，自己根据实践摸索试验。</li><li>ProtectCsmRegion：确保CSM内存区域标记为ACPI NVS，以防止boot.efi或XNU重新定位或使用它们。但是由于AvoidRuntimeDefrag解决了类似的问题，故<code>==不勾选==</code>。</li><li>ProvideCustomSlide：此选项时强制macOS在可用的slide值中使用一个随机的、不产生冲突的slide值，故，<code>==必须勾选==</code>。</li><li>SetupVirtualMap：通过虚拟内存建立连续性内存供OC使用，并映射到分散的物理内存中，故，<code>==必须勾选==</code>。</li><li>ShrinMemoryMap：目前主板都符合苹果的内核对内存的规范，一般<code>==不勾选==</code>。除非由于内存问题无法开机（多见于微星主板），则勾选，进行测试。</li><li>SignalAppleOS：将其他操作系统的信息报告给正在加载的macOS，<code>==不勾选==</code>。</li></ul><p><img src="https://img-blog.csdnimg.cn/20200118163343710.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NodWl5dW54Yw==,size_16,color_FFFFFF,t_70" alt="config-Booter-Quirks常用勾选项"></p><h4 id="3-3、Config-DeviceProperties设置："><a href="#3-3、Config-DeviceProperties设置：" class="headerlink" title="3.3、Config-DeviceProperties设置："></a>3.3、Config-DeviceProperties设置：</h4><p>此项是用来描述/注入设备信息。主要是显卡与声卡，当然，也可以定制一些设备到关于本机-系统报告-PCI列表中去。</p><h5 id="3-3-1：Config-DeviceProperties-添加："><a href="#3-3-1：Config-DeviceProperties-添加：" class="headerlink" title="3.3.1：Config-DeviceProperties-添加："></a>3.3.1：Config-DeviceProperties-添加：</h5><p>PCI信息导出：打开Hackintool，到PCI列表，点击下面的导出，在桌面生成4个文件，如果是在Clover-EFI环境下导出的，需要用OpenCore Configurator-工具-配置转换器打开pcidevices.plist，能看到全部PCI信息。此信息是基于你目前采用Clover开机状态下所有可以正常使用的PCI信息。删除模版中所有设备，将你需要的设备拷贝过来。并稍作修改。</p><h6 id="3-3-1-1：声卡："><a href="#3-3-1-1：声卡：" class="headerlink" title="3.3.1.1：声卡："></a>3.3.1.1：声卡：</h6><ul><li>一般情况下声卡的路径是<code>PciRoot(0x0)/Pci(0x1f,0x3)</code>。</li><li>右边的键/值一般稍作修改，比如接口<code>AAPL,slot-name</code>的值可以改为<code>Built In</code>（内建/内置）。</li><li>显示名称<code>model</code>的值改为Hackintool-音频-音频设备-名称里面的。</li><li><code>layout-id</code>的值一般就用导出的。不用修改。</li><li>其他就用导出的值。</li></ul><h6 id="3-3-1-2：显卡："><a href="#3-3-1-2：显卡：" class="headerlink" title="3.3.1.2：显卡："></a>3.3.1.2：显卡：</h6><ul><li>无集显的CPU直接删除路径<code>PciRoot(0x0)/Pci(0x2,0x0)</code>，将pcidevices.plist中独显信息直接拷贝过来，我的路径是：PciRoot(0x20)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x0)。</li><li><code>AAPL,slot-name</code>的值改为<code>PCIEX1</code>或者<code>Slot-1</code>。</li><li><code>model</code>的值可以改为<code>Radeon Pro Vega 56</code>（根据自己显卡的名字修改）。</li><li>其他不动。</li><li>独显DP/HDMI声卡：直接将pcidevices.plist中独显DP/HDMI声卡信息直接拷贝过来，我的路径<code>PciRoot(0x20)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x0)/Pci(0x0,0x1)</code>。</li><li><code>AAPL,slot-name</code>的值与显卡相同。</li><li><code>model</code>的值可以改为与显卡匹配，比如Radeon Pro Vega 56 DP/HDMI Audio。其他不动。</li><li>有集显的CPU：路径<code>PciRoot(0x0)/Pci(0x2,0x0)</code>。一般情况下，直接将pcidevices.plist中集显的信息直接拷贝过来，就可以了，稍作修改，如AAPL,slot-name改为Built In（内建/内置）。model的值稍作修饰。关于仅使用集显的，可能遇到HDMI接口紫屏的问题，请自行搜索解决办法。</li></ul><h5 id="3-3-2：阻止："><a href="#3-3-2：阻止：" class="headerlink" title="3.3.2：阻止："></a>3.3.2：阻止：</h5><p>此项默认即可。一般不做修改。</p><h4 id="3-4：Config-Kernel设置："><a href="#3-4：Config-Kernel设置：" class="headerlink" title="3.4：Config-Kernel设置："></a>3.4：Config-Kernel设置：</h4><p>此项是内存相关的设置。</p><h5 id="3-4-1：Config-Kernel-添加："><a href="#3-4-1：Config-Kernel-添加：" class="headerlink" title="3.4.1：Config-Kernel-添加："></a>3.4.1：Config-Kernel-添加：</h5><p>直接点击浏览，到OC-EFI/OC/Kexts，选取全部，这里需要注意的是，Lilu.kext必须调整到第一位。对于依赖VirtualSMC.kext或FakeSMC.kext的驱动，则必须放在他们的后面。需要启用的，后面需要勾选。</p><h5 id="3-4-2：Config-Kernel-阻止，"><a href="#3-4-2：Config-Kernel-阻止，" class="headerlink" title="3.4.2：Config-Kernel-阻止，"></a>3.4.2：Config-Kernel-阻止，</h5><p>禁用一些驱动。默认即可。</p><h5 id="3-4-3：Config-Kernel-补丁："><a href="#3-4-3：Config-Kernel-补丁：" class="headerlink" title="3.4.3：Config-Kernel-补丁："></a>3.4.3：Config-Kernel-补丁：</h5><p>范例里面的4个一般情况下不用，2个RTC的补丁可以用于华硕的主板（二选一），但需要测试。主要解决华硕主板重启BIOS重置，需要按F1跳过的问题。</p><h5 id="3-4-4：Config-Kernel-CPU仿冒，"><a href="#3-4-4：Config-Kernel-CPU仿冒，" class="headerlink" title="3.4.4：Config-Kernel-CPU仿冒，"></a>3.4.4：Config-Kernel-CPU仿冒，</h5><p>2种情况下，需要仿冒。<br>1、macOS尚不支持的CPU。<br>2、为不受支持的CPU启用XCPM。<br>对于XCPM支持，建议使用以下组合。<br>•Haswell-E（0x306F2）至Haswell（0x0306C3）：<br>Cpuid1Data：C3 06 03 00 00 00 00 00 00 00 00 00 00 00<br>Cpuid1Mask:：FF FF FF FF 00 00 00 00 00 00 00 00 00 00<br>•Broadwell-E（0x0406F1）至Broadwell（0x0306D4）：<br>Cpuid1Data：D4 06 03 00 00 00 00 00 00 00 00 00 00 00<br>Cpuid1Mask:：FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00。<br>进一步情况可以见<a href="https://github.com/acidanthera/bugtracker/issues/365" target="_blank" rel="noopener"> acidanthera/bugtracker#365</a>。</p><h5 id="3-4-5：Config-Kernel-Quirks："><a href="#3-4-5：Config-Kernel-Quirks：" class="headerlink" title="3.4.5：Config-Kernel-Quirks："></a>3.4.5：Config-Kernel-Quirks：</h5><p>这个是内核相关的选项，==重要==！</p><ul><li><p>AppleCpuPmCfgLock：如果你BIOS里面<code>CFG/MSR</code>已经<code>==关闭==</code>，则<code>==不勾选==</code>。<code>==没有关闭==</code>，则必须<code>==勾选==</code>，不清楚是否关闭，请用Hackintool-工具-点击Intel标志-从appleintellnfo获取，查找CFG Lock，如果显示0（MSR not lockde）则是关闭，如果显示1（MSR locked）则是开启。BIOS里面没有CFG/MSR相关选项的，请自行搜索关闭的方法。</p></li><li><p>AppleXcpmCfgLock：同上。</p></li><li><p>AppleXcpmExtraMsrs：主要是在无原生电源管理的CPU上使用，一般是<code>Haswell-E，Broadwell-E，Skylake-X这三种CPU，必须勾选</code>，<code>其他CPU不用勾选</code>。</p></li><li><p><strong>（0.5.6新增）</strong>AppleXcpmForceBoost：此补丁将<code>0xFF00</code> 写入到<code>MSR_IA32_PERF_CONTROL (0x199),</code>一般CPU都不勾选，只有某些Xeon的CPU有作用。</p></li><li><p>CustomSMBIOSGuid：戴尔本本用的，一般<code>不勾选</code>。</p></li><li><p>DisableIoMapper：禁止vt-d，如果BIOS里面禁止了，就<code>不勾选</code>。</p></li><li><p><strong>（0.5.6新增）</strong>DummyPowerManagement：对于一些需要禁用AppleIntelCpuPowerManagement，采用NullCpuPowerManagement.kext 进行电源管理的CPU，必须勾选。其他CPU不勾选。</p></li><li><p>ExternalDiskIcons：AHCI控制器相关。现在主流主板对AHCI支持都很好，一般<code>不勾选</code>。</p></li><li><p><strong>（0.5.5新增）IncreasePciBarSize：</strong>将IOPCIFamily中的32位PCI带宽大小从1GB增加到4GB，一般<code>不勾选</code></p></li><li><p>LapicKernelPanic：用于惠普本本的内核崩溃，一般<code>不勾选</code>。</p></li><li><p>PanicNoKextDump：显示kext出错信息，一般<code>不勾选</code>。</p></li><li><p>PowerTimeoutKernelPanic：当遇到睡眠不能唤醒，只有重启后才能唤醒的情况下勾选，台式机一般<code>不勾选</code>。</p></li><li><p>ThirdPartyDrives：类似于开启Sata固态硬盘的trim功能。有Sata固态硬盘勾选，没有则<code>不勾选</code>。</p></li><li><p>XhciPortLimit：解除15个端口限制，确认USB端口完美定制的可以不勾选。一般<code>勾选</code>。</p><p><img src="https://img-blog.csdnimg.cn/20200118163725859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NodWl5dW54Yw==,size_16,color_FFFFFF,t_70" alt="Config-Kernel-Quirks勾选"></p></li></ul><h4 id="3-5：Config-Misc设置"><a href="#3-5：Config-Misc设置" class="headerlink" title="3.5：Config-Misc设置"></a>3.5：Config-Misc设置</h4><h5 id="3-5-1：Config-Misc-BlessOverride："><a href="#3-5-1：Config-Misc-BlessOverride：" class="headerlink" title="3.5.1：Config-Misc-BlessOverride："></a>3.5.1：Config-Misc-BlessOverride：</h5><p>这个选择是寻找一些不同位置的EFI，一般空。</p><h5 id="3-5-2：Config-Misc-Boot："><a href="#3-5-2：Config-Misc-Boot：" class="headerlink" title="3.5.2：Config-Misc- Boot："></a>3.5.2：Config-Misc- Boot：</h5><ul><li><strong>（0.5.6新增）</strong>BuiltinTextRenderer：机型设置为MacPro5,1,需要勾选，其他不勾选。 </li><li>ConsoleBehaviourOs：开机巨大苹果，选ForceText或其他，自行调整。</li><li>ConsoleBehaviourUi：同上。</li><li>ConsoleMode：开机巨大苹果，选Max或其他，自行调整。</li><li>HibernateMode：检测休眠模式，一般选none，原生支持nvram的，并想休眠（注意不是睡眠）的，选auto。</li><li>HideSelf：隐藏自身的EFI引导盘选项，当其他操作系统与Mac引导盘在同一EFI位置时不勾选（就是单硬盘双/多系统的单EFI引导的情况）。一般是勾选滴。</li><li>PollAppleHotKeys：是否开一些组合热键，如command+K；command+S。如果发现开机键盘无法选择，则不勾选。并删除OC/Drivers下的UsbKbDxe.efi。</li><li>Resolution：开机分辨率，自行选择，如2560x1440；3840x2160等等。</li><li>ShowPicker：是否显示开机启动盘显示，一般<code>勾选</code>，长期稳定使用的情况下可以不勾选。</li><li>Timeout ：倒计时，0～30的整数。</li><li><strong>（0.5.6新增）</strong>TakeoffDelay：在选择启动盘之前与快捷键操作的延迟。一般是0，对于一些键盘驱动需要填写5000-10000（微秒）。 </li><li>UsePicker：是否使用OC的开机启动盘选项，<code>==勾选==</code>。</li></ul><h5 id="3-5-3：Config-Misc-Debug：调试选项"><a href="#3-5-3：Config-Misc-Debug：调试选项" class="headerlink" title="3.5.3：Config-Misc-Debug：调试选项"></a>3.5.3：Config-Misc-Debug：调试选项</h5><ul><li>DisableWatchDog：<code>==不勾选==</code>。</li><li>DisplayDelay：显示延迟，填入<code>0</code>。</li><li>DisplayLevel：显示等级，填入：<code>2147483650</code>。</li><li>Target：目标，一般填入<code>3</code>。</li></ul><h5 id="3-5-4：Config-Misc-Entries：添加一些路径。现在暂时不管。"><a href="#3-5-4：Config-Misc-Entries：添加一些路径。现在暂时不管。" class="headerlink" title="3.5.4：Config-Misc-Entries：添加一些路径。现在暂时不管。"></a>3.5.4：Config-Misc-Entries：添加一些路径。现在暂时不管。</h5><h5 id="3-5-5：Config-Misc-Security：安全设置，"><a href="#3-5-5：Config-Misc-Security：安全设置，" class="headerlink" title="3.5.5：Config-Misc- Security：安全设置，"></a>3.5.5：Config-Misc- Security：安全设置，</h5><ul><li><p>AllowNvramReset：<code>==勾选==</code>是在开机引导选项中加入重置nvram缓存功能，调试完毕，稳定后，可以不勾选。</p></li><li><p>AuthRestart：与filevault相关，<code>==不勾选==</code>。</p></li><li><p>ExposeSensitiveData：由于使用nvram，填入<code>3</code></p></li><li><p>HaltLevel：显示级别，填入：<code>2147483648</code>。</p></li><li><p>RequireSignature：开启vault加密。<code>==不勾选==</code>。</p></li><li><p>RequireVault：开启vault加密。<code>==不勾选==</code>。</p></li><li><p>ScanPolicy：扫描策略，默认<code>983299</code>即可。我选的是<code>3080963</code>或<code>3870467</code>，3个有何不同，你自己对比下。<br>（ScanPolicy 参数是用来控制Oc扫描启动项的，对于苹果来说这显得多余。苹果的固件可以选择 禁用第三方安装盘 也就是 他会默认禁用U盘安装盘 需要进入Recovery 关闭保护才能正常引导，而黑果这种设计显得不那么灵活。</p><ul><li><p>0x00000001 (bit 0) — OC_SCAN_FILE_SYSTEM_LOCK, restricts scanning to only known file systems defined as a part of this policy. File system drivers may not be aware of this policy, and to avoid mounting of undesired file systems it is best not to load its driver. This bit does not affect dmg mounting, which may have any file system. Known file systems are prefixed with OC_SCAN_ALLOW_FS_.</p></li><li><p>0x00000002 (bit 1) — OC_SCAN_DEVICE_LOCK, restricts scanning to only known device types defined as a part of this policy. This is not always possible to detect protocol tunneling, so be aware that on some systems it may be possible for e.g. USB HDDs to be recognised as SATA. Cases like this must be reported. Known device types are prefixed with OC_SCAN_ALLOW_DEVICE_.</p></li><li><p>0x00000100 (bit 8) — OC_SCAN_ALLOW_FS_APFS, allows scanning of APFS file system.</p></li><li><p>0x00000200 (bit 9) — OC_SCAN_ALLOW_FS_HFS, allows scanning of HFS file system.</p></li><li><p>0x00000400 (bit 10) — OC_SCAN_ALLOW_FS_ESP, allows scanning of EFI System Partition file system.</p></li><li><p>0x00000800 (bit 11) — OC_SCAN_ALLOW_FS_NTFS, allows scanning of NTFS (Msft Basic Data) file system.</p></li><li><p>0x00001000 (bit 12) — OC_SCAN_ALLOW_FS_EXT, allows scanning of EXT (Linux Root) file system.</p></li><li><p>0x00010000 (bit 16) — OC_SCAN_ALLOW_DEVICE_SATA, allow scanning SATA devices.</p></li><li><p>0x00020000 (bit 17) — OC_SCAN_ALLOW_DEVICE_SASEX, allow scanning SAS and Mac NVMe devices.</p></li><li><p>0x00040000 (bit 18) — OC_SCAN_ALLOW_DEVICE_SCSI, allow scanning SCSI devices.</p></li><li><p>0x00080000 (bit 19) — OC_SCAN_ALLOW_DEVICE_NVME, allow scanning NVMe devices.</p></li><li><p>0x00100000 (bit 20) — OC_SCAN_ALLOW_DEVICE_ATAPI, allow scanning CD/DVD devices.</p></li><li><p>0x00200000 (bit 21) — OC_SCAN_ALLOW_DEVICE_USB, allow scanning USB devices.</p></li><li><p>0x00400000 (bit 22) — OC_SCAN_ALLOW_DEVICE_FIREWIRE, allow scanning FireWire devices.</p></li><li><p>0x00800000 (bit 23) — OC_SCAN_ALLOW_DEVICE_SDCARD, allow scanning card reader devices.</p><p>首先这个参数可以是16进制「Data」也可以是10进制「Number」<br>0xF0103 通过计算器可以很容易转换成10进制983299<br>0xF0103 包含以下的限制：</p><p> • OC_SCAN_FILE_SYSTEM_LOCK :文件系统限制-0x00000001 (bit 0)</p><p> • OC_SCAN_DEVICE_LOCK：磁盘IO口类型限制-0x00000002 (bit 1)</p><p> • OC_SCAN_ALLOW_FS_APFS：允许扫描APFS分区-0x00000100 (bit 8)</p><p> • OC_SCAN_ALLOW_FS_HFS：允许扫描HFS分区-0x00000200 (bit 9)</p><p> • OC_SCAN_ALLOW_DEVICE_SATA：允许扫描SATA总线磁盘-0x00010000 (bit 16)</p><p> • OC_SCAN_ALLOW_DEVICE_SASEX ：允许扫描SAS总线磁盘-0x00020000 (bit 17)</p><p> • OC_SCAN_ALLOW_DEVICE_SCSI ：允许扫描SCSI总线磁盘-0x00040000 (bit 18)</p><p> • OC_SCAN_ALLOW_DEVICE_NVME：允许扫描NVME总线磁盘-0x00080000 (bit 19)</p><p> • OC_SCAN_ALLOW_DEVICE_USB：允许扫描USB设备-0x00200000 (bit 21)</p></li></ul><p>以上16进制为<br>0x00000001</p><p>0x00000002+=0x3</p><p>0x00000100+=0x103</p><p>0x00000200+=0x303</p><p>0x00010000+=0x10303</p><p>0x00020000+=0x30303</p><p>0x00040000+=0x70303</p><p>0x00080000+=0xF0303</p><p>0x00200000+=0x2F0303===&gt;3080963<br>3080963可引导APFS和HFS分区适合nvram和模拟nvram正常的使用 系统通过更新nvram控制启动磁盘，安装，更新可自动完成，理论上应该开启所有扫描项以及所有磁盘IO类型扫描 但是某些人需求只扫描OSX或者并不想扫描到Win系统，如果设置==0 则关闭所有限制==）</p></li><li><p>AllowSetDefault：允许CTRL+Enter和CTRL+Index处理在引导选择器中设置默认引导选项。</p></li></ul><h5 id="3-5-6：Config-Misc-Tools-工具选项："><a href="#3-5-6：Config-Misc-Tools-工具选项：" class="headerlink" title="3.5.6：Config-Misc-Tools 工具选项："></a>3.5.6：Config-Misc-Tools 工具选项：</h5><p>在开机的时候，加入工具，比如有Shell.efi，CleanNvram.efi，VerifyMsrE2.efi等，自行选择，如果勾选的话在EFI/OC/Tools中必须包含这些。</p><p><img src="https://img-blog.csdnimg.cn/20200118164037505.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NodWl5dW54Yw==,size_16,color_FFFFFF,t_70" alt="Config-Misc设置"></p><h4 id="3-6：Config-NVRAM设置"><a href="#3-6：Config-NVRAM设置" class="headerlink" title="3.6：Config-NVRAM设置"></a>3.6：Config-NVRAM设置</h4><h5 id="3-6-1：Config-NVRAM-添加"><a href="#3-6-1：Config-NVRAM-添加" class="headerlink" title="3.6.1：Config-NVRAM-添加"></a>3.6.1：Config-NVRAM-添加</h5><h6 id="3-6-1-1：UUID：4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14："><a href="#3-6-1-1：UUID：4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14：" class="headerlink" title="3.6.1.1：UUID：4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14："></a>3.6.1.1：UUID：4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14：</h6><p>值01普通模式或02HIPDI模式。根据自己的显示情况选取。</p><h6 id="3-6-1-2：UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82：对应的Clover-config里面的引导参数与引导界面里面的相关内容。"><a href="#3-6-1-2：UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82：对应的Clover-config里面的引导参数与引导界面里面的相关内容。" class="headerlink" title="3.6.1.2：UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82：对应的Clover-config里面的引导参数与引导界面里面的相关内容。"></a>3.6.1.2：UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82：对应的Clover-config里面的引导参数与引导界面里面的相关内容。</h6><ul><li>​         prev-lang:kbd：键盘布局或语言选项，填入<code>7a68 2d48 616e 733a 3235 32</code>，为中文。</li><li>​         csr-active-config：SIP保护。填入<code>E7030000</code>是关闭保护，类似于Clover-condig-变量设置-Csr配置的0x67。填入<code>00000000</code>是开启保护，类似于Clover-condig-变量设置-Csr配置的0x1ff。</li><li>​         boot-args：相当于Clover-config-引导参数-参数里面的内容。将里面的内容，拷贝到值下面，用空格间隔。例如：<code>npci=0x3000 agdpmod=pikera -v</code>等等。</li></ul><h5 id="3-6-2：Config-NVRAM-阻止，"><a href="#3-6-2：Config-NVRAM-阻止，" class="headerlink" title="3.6.2：Config-NVRAM-阻止，"></a>3.6.2：Config-NVRAM-阻止，</h5><p>禁用一些nvram变量。不用设置。</p><h5 id="3-6-3：Config-NVRAM-LegacySchema，"><a href="#3-6-3：Config-NVRAM-LegacySchema，" class="headerlink" title="3.6.3：Config-NVRAM-LegacySchema，"></a>3.6.3：Config-NVRAM-LegacySchema，</h5><p>nvram的变量设置。<br>删除范例7C436110-AB2A-4BBB-A880-FE41995C9F82中的所有，添加==<code>efi-boot-device</code>与<code>efi-boot-devic-data</code>==这2项。<br>删除范例8BE4DF61-93CA-11D2-AA0D-00E098032B8C中的所有选项。</p><h5 id="3-6-4：Config-NVRAM-LegacyEnable，"><a href="#3-6-4：Config-NVRAM-LegacyEnable，" class="headerlink" title="3.6.4：Config-NVRAM-LegacyEnable，"></a>3.6.4：Config-NVRAM-LegacyEnable，</h5><p><code>非原生nvram主板勾选</code>。<code>原生nvram主板不勾选</code>。</p><h5 id="3-6-5：Config-NVRAM-WriteFlash，"><a href="#3-6-5：Config-NVRAM-WriteFlash，" class="headerlink" title="3.6.5：Config-NVRAM-WriteFlash，"></a>3.6.5：Config-NVRAM-WriteFlash，</h5><p>一般<code>不勾选</code>。</p><h5 id="3-6-6：LegacyOverwrite，"><a href="#3-6-6：LegacyOverwrite，" class="headerlink" title="3.6.6：LegacyOverwrite，"></a>3.6.6：LegacyOverwrite，</h5><p>允许从nvram.plist重写固件变量。一般<code>不勾选</code><strong>（055新增）</strong></p><h4 id="3-7：Config-PlatformInfo设置。"><a href="#3-7：Config-PlatformInfo设置。" class="headerlink" title="3.7：Config-PlatformInfo设置。"></a>3.7：Config-PlatformInfo设置。</h4><p>类似于Clover-config-机型设置，一般人就点检查覆盖范围右边的键，选择适合你自己机器的机型。至于三码。自己结合Clover-config里面填写。</p><p><strong>（0.5.6新增）</strong>Config-PlatformInfo-Generic-AdviseWindows：此项与引导Windows有关，强制固件对Windows的支持。 以下2个情况需要勾选:<br> • 开启CSM (0x1)，EFI分区不在第一启动盘上，无法引导Windows。 </p><p>• 关闭CMS，采用纯UEFI (0x2)，EFI分区在第一启动盘上，无法引导 Windows。</p><h5 id="3-7-1：其他选项"><a href="#3-7-1：其他选项" class="headerlink" title="3.7.1：其他选项"></a>3.7.1：其他选项</h5><ul><li>Automatic（自动）：<code>==勾选==</code>。</li><li>UpdateDataHub：<code>==勾选==</code>。</li><li>UpdateNVRAM：<code>==勾选==</code>。</li><li>UpdateSMBIOS：<code>==勾选==</code>。</li><li>UpdateSMBIOSMode：<code>==创建/覆盖==</code></li></ul><h4 id="3-8：Config-UEFI，"><a href="#3-8：Config-UEFI，" class="headerlink" title="3.8：Config-UEFI，"></a>3.8：Config-UEFI，</h4><p>UEFI的相关设置。</p><h5 id="3-8-1：ConnectDrivers，"><a href="#3-8-1：ConnectDrivers，" class="headerlink" title="3.8.1：ConnectDrivers，"></a>3.8.1：ConnectDrivers，</h5><p>连接驱动程序。==勾选==。</p><h5 id="3-8-2：Config-UEFI-Drivers，"><a href="#3-8-2：Config-UEFI-Drivers，" class="headerlink" title="3.8.2：Config-UEFI-Drivers，"></a>3.8.2：Config-UEFI-Drivers，</h5><p>UFEI驱动，一般情况下，新版OC只用3个：HfsPlus.efi，ApfsDriverLoader.efi和FwRuntimeServices.efi，新版的OC将VirtualSmc.efi并入到OpenCore.efi。至于UsbKbDxe.efi根据自己的需要选择。</p><ul><li><code>ApfsDriverLoader</code> — 对APFS格式的支持</li><li><code>FwRuntimeServices</code> — 使用OpenCore引导必须使用</li><li><code>EnhancedFatDxe</code> — 对FAT格式的支持 </li><li><code>NvmExpressDxe</code> — 对于Haswell或更早不支持NVMe SSD添加的驱动</li><li><code>AppleUsbKbDxe</code> — 将USB键盘模拟为苹果键盘的驱动</li><li><code>VBoxHfs</code> — 对HFS格式的支持</li><li><code>XhciDxe</code> — XHCI USB驱动，Sandy Bridge以前的CPU、主板或者USB3.0PCI卡需要此驱动</li></ul><h5 id="3-8-3：Config-UEFI-Apple快捷键相关："><a href="#3-8-3：Config-UEFI-Apple快捷键相关：" class="headerlink" title="3.8.3：Config-UEFI-Apple快捷键相关："></a>3.8.3：Config-UEFI-Apple快捷键相关：</h5><ul><li>KeyForgetThreshold：设置为<code>5</code>。</li><li>KeyMergeThreshold：设置为<code>2</code>。</li><li>KeySupport：<code>==勾选==</code>。</li><li>KeySupportMode：选择<code>==Auto==</code>。</li><li>KeySwap：==勾选==。</li><li>PointerSupport：如果是华硕Z87/Z97，勾选，其他<code>不勾选</code>。</li><li>TimerResolution：延迟选<code>50000</code>。</li><li>PointerSupportMode：范例是ASUS。<code>不改</code>。</li></ul><h5 id="3-8-4：Config-UEFI-协议"><a href="#3-8-4：Config-UEFI-协议" class="headerlink" title="3.8.4：Config-UEFI-协议"></a>3.8.4：Config-UEFI-协议</h5><ul><li>AppleBootPolicy：虚拟机的Mac需要用，<code>==不勾选==</code>。</li><li>AppleEvent：虚拟机并有vault需要用，<code>==不勾选==</code>。</li><li>AppleImageConversion：重建apple图标，<code>==不勾选==</code>。</li><li>AppleKeyMap：重建apple功能键，<code>==不勾选==</code>。</li><li>AppleSmcIo：替代之前的VirtualSmc.efi，<code>==055以后的版本可以不勾选==</code>。</li><li>AppleUserInterfaceTheme ：与主题有关，<code>==不勾选==</code>。</li><li>ConsoleControl：主机控制界面，必须<code>==勾选==</code>！</li><li>DataHub：重建DataHub，<code>==不勾选==</code>。</li><li>DeviceProperties：虚拟机需要，<code>==不勾选==</code>。</li><li>FirmwareVolume：File Vault的相关，<code>==不勾选==</code>。</li><li>HashServices：File Vault的相关，<code>==不勾选==</code>。</li><li>OSInfo：操作系统信息协议，<code>==不勾选==</code>。</li><li>UnicodeCollation：老旧主板需要，<code>==不勾选==</code>。</li></ul><h5 id="3-8-5：Config-UEFI-Quirks设置"><a href="#3-8-5：Config-UEFI-Quirks设置" class="headerlink" title="3.8.5：Config-UEFI-Quirks设置"></a>3.8.5：Config-UEFI-Quirks设置</h5><ul><li>IgnoreInvalidFlexRatio：<code>==如果没有解锁CFG，必须勾选==</code>。</li><li>IgnoreTextInGraphics：一些BIOS同时输出文字和视频导致花屏，如果有这个情况，不勾选，一般是<code>==勾选==</code>的。</li><li>ProvideConsoleGop：调用显卡GOP，<code>==勾选==</code>。</li><li>ReleaseUsbOwnership：如果开机键盘鼠标卡死，勾选试试，一般是<code>==不勾选==</code>的。</li><li>RequestBootVarRouting：<code>==如果要使用“启动磁盘”的选项，勾选==</code>。</li><li>SanitiseClearScreen：清理屏幕分辨率，根据自己的情况选择。</li><li>ExitBootServicesDelay：较新的主板直接填入<code>0</code>，老旧主板填入3000000-5000000。</li><li>AvoidHighAlloc：避免高位内存寻址，已经用了slide，所以一般<code>==不勾选==</code>。</li><li>ClearScreenOnModeSwitch：图像与文本模式切换时，只清除部分屏幕。一般<code>==不勾选==</code>。</li><li>ReplaceTabWithSpace：<code>==不勾选==</code>。</li><li>ReconnectOnResChange：如果遇到开机直到登陆界面之前一直黑屏，那么勾选试试。</li><li>UnblockFsConnect：与惠普本本相关，一般<code>==不勾选==</code>。</li><li>RequestBootVarFallback：与双系统有关，一般<code>==不勾选==</code>。</li></ul><h3 id="如有变化，保持更新！"><a href="#如有变化，保持更新！" class="headerlink" title="如有变化，保持更新！"></a>如有变化，保持更新！</h3><p>更新日志：</p><p>2020-02-05:第三版—基于OpenCore0.5.6</p><p>2020-01-30:第二版—基于OpenCore0.5.5</p><p>2020-01-18:第一版—基于OpenCore0.5.4</p>]]></content>
      
      
      <categories>
          
          <category> OpenCore </category>
          
          <category> video </category>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>other/test-1</title>
      <link href="/2020/01/22/other/test-1/"/>
      <url>/2020/01/22/other/test-1/</url>
      
        <content type="html"><![CDATA[<p align="center">  测试样版<br>  <img src="https://shuiyunxc.github.io/images/avatar.png"style="zoom:40%;"></p><h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><p>321<a id="more"></a></p><h2 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a><code>测试</code></h2><p><code>321</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[language] [title] [url] [link text] code snippet</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">大的风蛋糕[language] [title] [url] [link text] code snippet</span><br></pre></td></tr></table></figure><p>梵蒂冈国红风格<p>sddffdf</p><br><code>FixDisplay</code><li>🔲 <code>FixIntelGfx</code></li></p><ul><li>Clover ▸ ACPI ▸ patched</li></ul></li></ul><h3 id="使用方法"><a class="markdownIt-Anchor" href="#使用方法"></a> 使用方法</h3><ol><li><p>打开应用：<code>Hackintool.app</code></p></li><li><p>通过菜单项：<code>缓冲帧</code>选择 <code>macOS 10.13.6</code> / <code>macOS 10.14</code><br><br><img src="https://img.shields.io/badge/32122-%20shuiyunxc-orange?style=flat-square&logo=?" align='right'><h3 id="测试-2"><a href="#测试-2" class="headerlink" title="测试"></a>测试</h3><p><img src="https://img.shields.io/badge/独行秀才-6666-scarlet?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-blue?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-black?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-khaki?style=flat-square" align='left'><br><br><br><br><br>测试<br><br><br><br></p><p><a href="/about"><img src="https://img.shields.io/badge/独行秀才-6666-green?style=flat-square" align='left'></a><img src="https://img.shields.io/badge/独行秀才-6666-red?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-blue?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-brown?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-yellow?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-orange?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-cyan?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-violet?style=flat-square" align='left'><img src="https://img.shields.io/badge/独行秀才-6666-indigo?style=flat-square" align='left'><br><br><img src="https://img.shields.io/badge/独行秀才-6666-lavender?style=flat-square" align='center'><br><br></p><h2 id="测试3"><a href="#测试3" class="headerlink" title="测试3"></a>测试3</h2><p align="center"><html>    <table style="margin-left: auto; margin-right: auto;">        <tr>            <td>                <!--左侧内容-->                <a href="/about"><img src="https://img.shields.io/badge/独行秀才-6666-green?style=flat-square" align='left'></a>            </td>            <td>                <!--右侧内容-->                <img src="https://img.shields.io/badge/独行秀才-6666-lavender?style=flat-square" align='center'>            </td>        </tr>    </table></html></p><img src="/uploads/avatar.png" alt="avatar" style="zoom:50%;" /><p><a href="/about"><img align="center" width="150" src="/uploads/full-logo-light.svg"></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">高科技卡‘了；’ 开机看见了</span><br></pre></td></tr></table></figure><p>引用实例</p><!-- HTML方式: 直接在 Markdown 文件中编写 HTML 来调用 --><!-- 其中 class="blockquote-center" 是必须的 --><blockquote class="blockquote-center">跨境电商了</blockquote><!-- 标签 方式，要求版本在0.4.5或以上 --><blockquote class="blockquote-center"><p>交换空间</p></blockquote><!-- 标签别名 --><blockquote class="blockquote-center"><p>可是大家 </p></blockquote><div class="note class_name"><p>Content (默认) </p></div><div class="note class_name default"><p>Content (default) </p></div><div class="note class_name primary"><p>Content (primary) </p></div><div class="note class_name success"><p>Content (success) </p></div><div class="note class_name info"><p>Content (info) </p></div><div class="note class_name warning"><p>Content (warning) </p></div><div class="note class_name danger"><p>Content (danger) </p></div><p><code>&lt;font color= &quot;#FF0000&quot; &gt;6103&lt;/font&gt;</code></p><p>绿：green，红：red，蓝：blue，黑：black，灰：grey，黄：yellow，紫：purple，灰褐色：beige ，蓝色：blue，褐色：brown ,红褐色, 赭石色：chocolate ，灰色：gray ，绿色：green ，象牙色：ivory ，卡其色：khaki ，淡紫色：lavender , 褐红色：maroon ，粉红色：pink ，紫色：purple, 亮紫色：violet ，</p><p><code>&lt;font color= &quot;#FF0000&quot; &gt;6103&lt;/font&gt;</code></p><p><font color= "#FF0000" >6103</font></p><p><code>&lt;font size= &quot;32px&quot; &gt;6103&lt;/font&gt;</code></p><p><font size= "32px" >6103</font></p><p><code>&lt;font color= &quot;#FF0000&quot; size= &quot;32px&quot; &gt;6103&lt;/font&gt;</code></p><p><font color= "#FF0000" size= "32px" >6103</font></p><table><thead><tr><th align="center">颜色💟</th><th align="center">显示🔯</th><th align="center">颜色♓️</th><th align="center">显示♊️</th></tr></thead><tbody><tr><td align="center">绿：green</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-green?style=flat-square" align='center'></td><td align="center">卡其色：khaki</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-khaki?style=flat-square" align='center'></td></tr><tr><td align="center">红：red</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-red?style=flat-square" align='center'></td><td align="center">褐红色：maroon</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-maroon?style=flat-square" align='center'></td></tr><tr><td align="center">蓝：blue</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-blue?style=flat-square" align='center'></td><td align="center">粉红色：pink</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-pink?style=flat-square" align='center'></td></tr><tr><td align="center">黑：black</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-black?style=flat-square" align='center'></td><td align="center">紫色：purple</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-purple?style=flat-square" align='center'></td></tr><tr><td align="center">灰：grey</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-grey?style=flat-square" align='center'></td><td align="center">亮紫色：violet</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-violet?style=flat-square" align='center'></td></tr><tr><td align="center">黄：yellow</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-yellow?style=flat-square" align='center'></td><td align="center">错误颜色</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-scarlet?style=flat-square" align='center'></td></tr><tr><td align="center">紫：purple</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-purple?style=flat-square" align='center'></td><td align="center">淡紫色：lavender</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-lavender?style=flat-square" align='center'></td></tr><tr><td align="center">灰褐色：beige</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-beige?style=flat-square" align='center'></td><td align="center">象牙色：ivory</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-ivory?style=flat-square" align='center'></td></tr><tr><td align="center">蓝色：blue</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-blue?style=flat-square" align='center'></td><td align="center">灰色：gray</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-gray?style=flat-square" align='center'></td></tr><tr><td align="center">褐色：brown</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-brown?style=flat-square" align='center'></td><td align="center">红褐色：chocolate</td><td align="center"><img src="https://img.shields.io/badge/独行秀才-6666-chocolate?style=flat-square" align='center'></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Clover </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCore </tag>
            
            <tag> Clover </tag>
            
            <tag> 其他 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>黑苹果OC配置</title>
      <link href="/2020/01/22/other/test-2/"/>
      <url>/2020/01/22/other/test-2/</url>
      
        <content type="html"><![CDATA[<p>@<a href="%E5%A4%A7%E7%85%9E%E9%A3%8E%E6%99%AF%E7%9C%8B%E9%BB%91%E7%A7%91%E6%8A%80">TOC</a></p><h1 id="345"><a href="#345" class="headerlink" title="345"></a>345</h1><p>Text rettertret retertert er reterter tree<a id="more"></a></p><h2 id="345-1"><a href="#345-1" class="headerlink" title="345"></a>345</h2><p>Rerrere</p><h3 id="456"><a href="#456" class="headerlink" title="456"></a>456</h3><p>Rare treat trt</p><table><thead><tr><th align="center">序号</th><th align="center">系列</th><th align="center">好</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">334</td><td align="center">555555</td></tr><tr><td align="center">2</td><td align="center">444</td><td align="center">555555</td></tr><tr><td align="center">3</td><td align="center">44444</td><td align="center">555555</td></tr><tr><td align="center">4</td><td align="center">444</td><td align="center">5555555</td></tr><tr><td align="center">5</td><td align="center">44444</td><td align="center">555555</td></tr><tr><td align="center">6</td><td align="center">4444444</td><td align="center">555555</td></tr><tr><td align="center">7</td><td align="center">444444</td><td align="center">~~55555~~</td></tr><tr><td align="center">8</td><td align="center">444444</td><td align="center"><strong>6666666</strong></td></tr></tbody></table><pre><code>st=&gt;start: 准备配置op=&gt;operation: 桌面建立OC-EFIcond=&gt;condition: Clover是否正常使用？sub1=&gt;subroutine: 去调试cond2=&gt;condition: 是否USB定制？sub2=&gt;subroutine: 去定制op1=&gt;operation: 拷贝Clover-EFI到桌面io=&gt;inputoutput: 开始配置OC-EFIe=&gt;end: 配置完成st-&gt;op-&gt;condcond(yes)-&gt;op1-&gt;cond2-&gt;sub1(right)cond(no)-&gt;sub1-&gt;opcond2(yes)-&gt;io-&gt;econd2(no)-&gt;sub2-&gt;op1</code></pre>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
